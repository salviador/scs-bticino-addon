(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{10:function(e,t,n){},113:function(e,t,n){},122:function(e,t){},124:function(e,t){},140:function(e,t){},142:function(e,t){},167:function(e,t){},168:function(e,t){},170:function(e,t){},172:function(e,t){},185:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(30),r=n.n(i),s=(n(113),n(187)),l=n(195),o=n(194),j=(n(10),n(0));var d=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(s.a,{children:Object(j.jsxs)(l.a,{bg:"light",expand:"lg",children:[Object(j.jsx)(l.a.Brand,{href:"",children:"SCSshield"}),Object(j.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(j.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(j.jsxs)(o.a,{className:"mr-auto",children:[Object(j.jsx)(o.a.Link,{href:"/",children:"Home"}),Object(j.jsx)(o.a.Link,{href:"configurazione.html",children:"Configurazioni"}),Object(j.jsx)(o.a.Link,{href:"database.html",children:"Database"}),Object(j.jsx)(o.a.Link,{href:"test.html",children:"Test"}),Object(j.jsx)(o.a.Link,{href:"noderedHome.html",children:"Node-Red"})]})})]})})})},b=n(58),h=n(8),u=n.n(h),x=n(18),m=n(5),O=n(196),p=n(188),g=n(105);var f=function(e){var t=e.device,n=e.valuedataRT,a=e.clientMWTT,i=Object(c.useState)("lamp_disabilitata.svg"),r=Object(m.a)(i,2),l=r[0],o=r[1];return Object(c.useEffect)((function(){t.nome_attuatore===n.nome_attuatore&&(0==n.stato.localeCompare("on")||0==n.stato.localeCompare("1")?o("lamp_accesa.svg"):o("lamp_spenta.svg"))}),[n]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(s.a,{style:{paddingTop:"20px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"1px solid black"},children:[Object(j.jsx)(O.a.Header,{children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(j.jsx)("h5",{children:t.nome_attuatore})}),Object(j.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Ambiente: ",t.indirizzo_Ambiente]})}),Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Punto Luce: ",t.indirizzo_PL]})})]})]})}),Object(j.jsx)(O.a.Body,{children:Object(j.jsx)(s.a,{fluid:!0,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Stato"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("img",{"data-icon":"switch",src:"/site/image/"+l,style:{width:"32px"}})})]})}),Object(j.jsx)(g.a,{style:{alignSelf:"center"},children:Object(j.jsxs)("div",{style:{textAlign:"center",alignItems:"right"},children:[Object(j.jsx)("button",{style:{marginRight:"5px"},type:"button",className:"btn btn-success btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/switch";a.publish(e,"on")}},children:"ON"}),Object(j.jsx)("button",{style:{marginRight:"5px"},type:"button",className:"btn btn-primary btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/switch";a.publish(e,"t")}},children:"T"}),Object(j.jsx)("button",{type:"button",className:"btn btn-danger btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/switch";a.publish(e,"off")}},children:"OFF"})]})})]})})}),Object(j.jsxs)(O.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(j.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(j.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"ON/OFF"})]})]})})})},v=n(189);var y=function(e){var t=e.device,n=e.valuedataRT,a=e.clientMWTT,i=Object(c.useState)("--.-\xb0"),r=Object(m.a)(i,2),l=r[0],o=r[1];return Object(c.useEffect)((function(){t.nome_attuatore===n.nome_attuatore&&o(n.stato+"\xb0")}),[n]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(s.a,{style:{paddingTop:"20px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"1px solid black"},children:[Object(j.jsx)(O.a.Header,{children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(j.jsx)("h5",{children:t.nome_attuatore})}),Object(j.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Ambiente: ",t.indirizzo_Ambiente]})}),Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Punto Luce: ",t.indirizzo_PL]})})]})]})}),Object(j.jsx)(O.a.Body,{children:Object(j.jsx)(s.a,{fluid:!0,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,style:{alignSelf:"center"},children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Temp-Ambiente"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("b",{children:l})})]})}),Object(j.jsx)(g.a,{style:{alignSelf:"center"},children:Object(j.jsx)("div",{style:{textAlign:"center",alignItems:"right"},children:Object(j.jsx)(v.a,{style:{marginRight:"8px"},size:"md",variant:"outline-primary",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/request";a.publish(e," ")}},children:"Aggiorna"})})})]})})}),Object(j.jsxs)(O.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(j.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(j.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"SENSORE-TEMPERATURA"})]})]})})})};var _=function(e){var t=e.device,n=e.valuedataRT,a=e.clientMWTT,i=Object(c.useState)("--.-\xb0"),r=Object(m.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)("--.-\xb0"),b=Object(m.a)(d,2),h=b[0],u=b[1],x=Object(c.useState)("----"),f=Object(m.a)(x,2),y=f[0],_=f[1];return Object(c.useEffect)((function(){if(t.nome_attuatore===n.nome_attuatore){var e=n.topic.split("/");null!=e[4]&&(0==e[4].localeCompare("status")?o(n.stato+"\xb0"):0==e[4].localeCompare("temperatura_termostato_impostata")?u(n.stato):0==e[4].localeCompare("modalita_termostato_impostata")&&_(n.stato))}}),[n]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(s.a,{style:{paddingTop:"20px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"1px solid black"},children:[Object(j.jsx)(O.a.Header,{children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(j.jsx)("h5",{children:t.nome_attuatore})}),Object(j.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Ambiente: ",t.indirizzo_Ambiente]})}),Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Punto Luce: ",t.indirizzo_PL]})})]})]})}),Object(j.jsx)(O.a.Body,{children:Object(j.jsx)(s.a,{fluid:!0,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Temp-Ambiente"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("b",{children:l})})]})}),Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Temp-Termostato"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("b",{children:h})})]})}),Object(j.jsx)(g.a,{lg:2,style:{alignSelf:"center"},children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Modalita"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("b",{children:y})})]})}),Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:6,children:Object(j.jsx)("i",{children:"Set Temp"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("div",{className:"col-xs-1",children:Object(j.jsx)("input",{className:"form-control",style:{width:"90%"},type:"number",name:"SetTemp",step:"0.5",value:h,onChange:function(e){u(e.target.value)},onBlur:function(e){if(a&&a.connected){var n="/scsshield/device/"+t.nome_attuatore+"/set_temp_termostato";a.publish(n,e.target.value)}}})})})]})}),Object(j.jsx)(g.a,{style:{alignSelf:"center"},children:Object(j.jsxs)("div",{style:{textAlign:"center",alignItems:"right"},children:[Object(j.jsx)(v.a,{style:{marginRight:"8px"},size:"md",variant:"outline-primary",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/set_modalita_termostato";a.publish(e,"inverno")}},children:"CALDO"}),Object(j.jsx)(v.a,{style:{marginRight:"8px"},size:"md",variant:"outline-primary",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/set_modalita_termostato";a.publish(e,"off")}},children:"OFF"}),Object(j.jsx)(v.a,{size:"md",variant:"outline-primary",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/set_modalita_termostato";a.publish(e,"estate")}},children:"FREDDO"})]})})]})})}),Object(j.jsxs)(O.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(j.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(j.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"TERMOSTATO"})]})]})})})},N=n(56),T=n.n(N);var S=function(e){var t=e.device,n=e.valuedataRT,a=e.clientMWTT,i=Object(c.useState)(50),r=Object(m.a)(i,2),l=r[0],o=r[1];return Object(c.useEffect)((function(){t.nome_attuatore===n.nome_attuatore&&o(n.stato)}),[n]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(s.a,{style:{paddingTop:"20px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"1px solid black"},children:[Object(j.jsx)(O.a.Header,{children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(j.jsx)("h5",{children:t.nome_attuatore})}),Object(j.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Ambiente: ",t.indirizzo_Ambiente]})}),Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Punto Luce: ",t.indirizzo_PL]})})]})]})}),Object(j.jsx)(O.a.Body,{children:Object(j.jsx)(s.a,{fluid:!0,children:Object(j.jsx)(p.a,{children:Object(j.jsx)(g.a,{sm:12,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{children:Object(j.jsx)("i",{children:"Stato %"})}),Object(j.jsx)(g.a,{lg:6,children:Object(j.jsx)(T.a,{tooltip:"on",value:l,min:"0",max:"100",step:"1",onChange:function(e){o(e.target.value)},onAfterChange:function(e){if(a&&a.connected){var n="/scsshield/device/"+t.nome_attuatore+"/percentuale";a.publish(n,l)}}})})]})})})})}),Object(j.jsxs)(O.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(j.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(j.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"SERRANDE/TAPPARELLE"})]})]})})})};var A=function(e){var t=e.device,n=e.valuedataRT,a=e.clientMWTT,i=Object(c.useState)("lamp_disabilitata.svg"),r=Object(m.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)("--%"),b=Object(m.a)(d,2),h=b[0],u=b[1],x=Object(c.useState)(50),f=Object(m.a)(x,2),v=f[0],y=f[1];return Object(c.useEffect)((function(){t.nome_attuatore===n.nome_attuatore&&(null!=n.topic.split("/")[5]?(u(n.stato+"%"),y(n.stato)):0==n.stato.localeCompare("on")||0==n.stato.localeCompare("1")?o("lamp_accesa.svg"):o("lamp_spenta.svg"))}),[n]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(s.a,{style:{paddingTop:"20px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"1px solid black"},children:[Object(j.jsx)(O.a.Header,{children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(j.jsx)("h5",{children:t.nome_attuatore})}),Object(j.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Ambiente: ",t.indirizzo_Ambiente]})}),Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Punto Luce: ",t.indirizzo_PL]})})]})]})}),Object(j.jsx)(O.a.Body,{children:Object(j.jsx)(s.a,{fluid:!0,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:4,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Stato Percentuale"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("b",{children:h})})]})}),Object(j.jsx)(g.a,{lg:2,style:{alignSelf:"center"},children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Stato"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("img",{"data-icon":"switch",src:"/site/image/"+l,style:{width:"32px"},alt:"status"})})]})}),Object(j.jsx)(g.a,{lg:3,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:6,children:Object(j.jsx)("i",{children:"Set Dimmer"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("div",{className:"col-xs-1",children:Object(j.jsx)(T.a,{tooltip:"off",value:v,min:"10",max:"100",step:"10",onChange:function(e){y(e.target.value)},onAfterChange:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/dimmer";a.publish(e,String(v)),console.log("\ud83d\udce4 Dimmer MQTT: ".concat(t.nome_attuatore," \u2192 ").concat(v,"%"))}}})})})]})}),Object(j.jsx)(g.a,{style:{alignSelf:"center"},children:Object(j.jsxs)("div",{style:{textAlign:"center",alignItems:"right"},children:[Object(j.jsx)("button",{style:{marginRight:"5px"},type:"button",className:"btn btn-success btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/dimmer";a.publish(e,"on")}},children:"ON"}),Object(j.jsx)("button",{style:{marginRight:"5px"},type:"button",className:"btn btn-primary btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/dimmer";a.publish(e,"t")}},children:"T"}),Object(j.jsx)("button",{type:"button",className:"btn btn-danger btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/dimmer";a.publish(e,"off")}},children:"OFF"})]})})]})})}),Object(j.jsxs)(O.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(j.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(j.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"Dimmer"})]})]})})})};var C=function(e){var t=e.device,n=e.valuedataRT,a=e.clientMWTT,i=Object(c.useState)("lamp_disabilitata.svg"),r=Object(m.a)(i,2),l=r[0],o=r[1];return Object(c.useEffect)((function(){t.nome_attuatore===n.nome_attuatore&&(0==n.stato.localeCompare("on")||0==n.stato.localeCompare("1")?o("lamp_accesa.svg"):o("lamp_spenta.svg"))}),[n]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(s.a,{style:{paddingTop:"20px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"1px solid black"},children:[Object(j.jsx)(O.a.Header,{children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(j.jsx)("h5",{children:t.nome_attuatore})}),Object(j.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Ambiente: ",t.indirizzo_Ambiente]})}),Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Punto Luce: ",t.indirizzo_PL]})})]})]})}),Object(j.jsx)(O.a.Body,{children:Object(j.jsx)(s.a,{fluid:!0,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Stato"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("img",{"data-icon":"switch",src:"/site/image/"+l,style:{width:"32px"}})})]})}),Object(j.jsx)(g.a,{style:{alignSelf:"center"},children:Object(j.jsxs)("div",{style:{textAlign:"center",alignItems:"right"},children:[Object(j.jsx)("button",{style:{marginRight:"5px"},type:"button",className:"btn btn-success btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/switch";a.publish(e,"on")}},children:"ON"}),Object(j.jsx)("button",{style:{marginRight:"5px"},type:"button",className:"btn btn-primary btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/switch";a.publish(e,"t")}},children:"T"}),Object(j.jsx)("button",{type:"button",className:"btn btn-danger btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/switch";a.publish(e,"off")}},children:"OFF"})]})})]})})}),Object(j.jsxs)(O.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(j.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(j.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"GRUPPI"})]})]})})})};var w=function(e){var t=e.device,n=(e.valuedataRT,e.clientMWTT);return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(s.a,{style:{paddingTop:"20px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"1px solid black"},children:[Object(j.jsx)(O.a.Header,{children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(j.jsx)("h5",{children:t.nome_attuatore})}),Object(j.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Posto Esterno: ",t.indirizzo_Ambiente]})}),Object(j.jsx)(p.a,{children:Object(j.jsx)(g.a,{style:{textAlign:"right",marginRight:"12px"}})})]})]})}),Object(j.jsx)(O.a.Body,{children:Object(j.jsx)(s.a,{fluid:!0,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{})}),Object(j.jsx)(g.a,{lg:8})]})}),Object(j.jsx)(g.a,{style:{alignSelf:"center"},children:Object(j.jsx)("div",{style:{textAlign:"center",alignItems:"right"},children:Object(j.jsx)("button",{type:"button",className:"btn btn-danger btn-md",onClick:function(){if(n&&n.connected){var e="/scsshield/device/"+t.nome_attuatore+"/sblocca";n.publish(e,"sblocca")}},children:"SBLOCCA"})})})]})})}),Object(j.jsxs)(O.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(j.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(j.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"SERRATURE"})]})]})})})};var z=function(e){var t=e.device,n=e.valuedataRT,a=(e.clientMWTT,Object(c.useState)("bell_off.jpg")),i=Object(m.a)(a,2),r=i[0],l=i[1];return Object(c.useEffect)((function(){t.nome_attuatore===n.nome_attuatore&&(0==n.stato.localeCompare("on")||0==n.stato.localeCompare("1")?l("bell_on.jpg"):l("bell_off.jpg"))}),[n]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(s.a,{style:{paddingTop:"20px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"1px solid black"},children:[Object(j.jsx)(O.a.Header,{children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(j.jsx)("h5",{children:t.nome_attuatore})}),Object(j.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(j.jsx)(p.a,{children:Object(j.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Citofono interno: ",t.indirizzo_PL]})}),Object(j.jsx)(p.a,{children:Object(j.jsx)(g.a,{style:{textAlign:"right",marginRight:"12px"}})})]})]})}),Object(j.jsx)(O.a.Body,{children:Object(j.jsx)(s.a,{fluid:!0,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:12,children:Object(j.jsx)("i",{children:"Stato"})}),Object(j.jsx)(g.a,{lg:12,children:Object(j.jsx)("img",{"data-icon":"switch",src:"/site/image/"+r,style:{width:"32px"}})})]})})}),Object(j.jsxs)(O.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(j.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(j.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"CAMPANELLO"})]})]})})})};var E=function(e){var t=e.device,n=e.mqttdata,c=e.clientMWTT;return"on_off"===t.tipo_attuatore?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(f,{device:t,valuedataRT:n,clientMWTT:c})}):"sensori_temperatura"===t.tipo_attuatore?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(y,{device:t,valuedataRT:n,clientMWTT:c})}):"termostati"===t.tipo_attuatore?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(_,{device:t,valuedataRT:n,clientMWTT:c})}):"serrande_tapparelle"===t.tipo_attuatore?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(S,{device:t,valuedataRT:n,clientMWTT:c})}):"dimmer"===t.tipo_attuatore?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(A,{device:t,valuedataRT:n,clientMWTT:c})}):"gruppi"===t.tipo_attuatore?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(C,{device:t,valuedataRT:n,clientMWTT:c})}):"serrature"===t.tipo_attuatore?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(w,{device:t,valuedataRT:n,clientMWTT:c})}):"campanello_porta"===t.tipo_attuatore?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(z,{device:t,valuedataRT:n,clientMWTT:c})}):Object(j.jsx)(j.Fragment,{})},R=n(106),k=n.n(R);var F=function(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(null),r=Object(m.a)(i,2),s=r[0],l=r[1],o=Object(c.useState)(""),d=Object(m.a)(o,2),h=d[0],O=d[1],p=Object(c.useState)(""),g=Object(m.a)(p,2),f=(g[0],g[1]);return Object(c.useEffect)((function(){var e=null,t=function(){var e=Object(x.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/GetConfigurazionereact.json").then((function(e){return e.json()}));case 2:return t=e.sent,console.log("\u2705 Dispositivi caricati:",t),a(t),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var t=Object(x.a)(u.a.mark((function t(n){var c,a,i,r,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/mqtt_config.json").then((function(e){return e.json()}));case 2:c=t.sent,a=window.location.hostname,i=c.use_tls?"wss":"ws",r="".concat(i,"://").concat(a,":").concat(c.ws_port).concat(c.path||""),s={reconnectPeriod:2e3,clean:!0},c.username&&(s.username=c.username),c.password&&(s.password=c.password),console.log("MQTT url:",r),console.log("MQTT options:",s),e=k.a.connect(r,s),l(e),e.on("connect",(function(){console.log("\u2705 MQTT connesso:",r),e.subscribe("/scsshield/device/+/status",(function(e){e?console.error("Errore subscribe status:",e):console.log("\u2705 Subscribed to /scsshield/device/+/status")})),e.subscribe("/scsshield/device/+/status/percentuale",(function(e){e?console.error("Errore subscribe percentuale:",e):console.log("\u2705 Subscribed to /scsshield/device/+/status/percentuale")})),e.subscribe("/scsshield/device/+/modalita_termostato_impostata",(function(e){e?console.error("Errore subscribe modalita:",e):console.log("\u2705 Subscribed to /scsshield/device/+/modalita_termostato_impostata")})),e.subscribe("/scsshield/device/+/temperatura_termostato_impostata",(function(e){e?console.error("Errore subscribe temperatura:",e):console.log("\u2705 Subscribed to /scsshield/device/+/temperatura_termostato_impostata")}))})),e.on("error",(function(t){console.error("\u274c MQTT ERROR:",(null===t||void 0===t?void 0:t.message)||t);try{e.end()}catch(n){}})),e.on("message",(function(e,t,c){console.log("\ud83d\udce8 MQTT message received:",e);var a=new TextDecoder("utf-8").decode(t);if("/scsshield/debug/bus"===e)f((function(e){return[].concat(Object(b.a)(e),[a+"\n"])}));else{var i=e.split("/");if(i.length<4)return void console.warn("\u26a0\ufe0f Topic malformato:",e);var r=i[3].toLowerCase(),s=a;console.log("  Device dal topic:",r),console.log("  Messaggio:",s);var l=n.find((function(e){return e.nome_attuatore.toLowerCase()===r}));if(l){var o={nome_attuatore:l.nome_attuatore,stato:s,topic:e};O(o),console.log("\u2705 Match trovato:",o.nome_attuatore,"stato:",o.stato)}else console.warn("\u26a0\ufe0f Nessun dispositivo trovato per:",r),console.log("  Dispositivi disponibili:",n.map((function(e){return e.nome_attuatore.toLowerCase()})))}}));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.a)(u.a.mark((function e(){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return c=e.sent,e.next=5,n(c);case 5:case"end":return e.stop()}}),e)})))(),function(){if(console.log("\ud83d\udd0c Chiusura connessioni MQTT..."),e)try{e.unsubscribe("/scsshield/device/+/status"),e.unsubscribe("/scsshield/device/+/status/percentuale"),e.unsubscribe("/scsshield/device/+/modalita_termostato_impostata"),e.unsubscribe("/scsshield/device/+/temperatura_termostato_impostata"),e.end()}catch(t){console.error("Errore chiusura MQTT:",t)}}}),[]),Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"container-fluid",children:n.map((function(e,t){return Object(j.jsx)("div",{style:{marginBottom:"50px"},children:Object(j.jsx)(E,{device:e,mqttdata:h,clientMWTT:s})},t)}))})})},I=n(192);var P=function(e){var t=e.device,n=e.handle_CHANHE_NOME,a=e.handle_CHANHE_A,i=e.handle_CHANHE_PL,r=e.handle_TIPO,l=e.handle_TIMER_UP,o=e.handle_TIMER_DOWN,d=e.handle_ELIMINA,b=Object(c.useState)("on_off"),h=Object(m.a)(b,2),u=h[0],x=h[1],f=Object(c.useState)(!1),y=Object(m.a)(f,2),_=y[0],N=y[1],T=Object(c.useState)(""),S=Object(m.a)(T,2),A=S[0],C=S[1],w=Object(c.useState)(0),z=Object(m.a)(w,2),E=z[0],R=z[1],k=Object(c.useState)(0),F=Object(m.a)(k,2),I=F[0],P=F[1],L=Object(c.useState)(8e3),M=Object(m.a)(L,2),K=M[0],H=M[1],D=Object(c.useState)(8e3),G=Object(m.a)(D,2),B=G[0],W=G[1];Object(c.useEffect)((function(){x(t.tipo_attuatore),R(t.indirizzo_Ambiente),P(t.indirizzo_PL),"timer_salita"in t&&H(t.timer_salita),"timer_discesa"in t&&W(t.timer_discesa),C(t.nome_attuatore),"serrande_tapparelle"===t.tipo_attuatore?N(!0):N(!1)}),[]);var U=function(e){R(e.target.value),a({nome_attuatore:t.nome_attuatore,indirizzo_Ambiente:e.target.value})},Q=function(e){P(e.target.value),i({nome_attuatore:t.nome_attuatore,indirizzo_PL:e.target.value})},J=function(e){H(e.target.value),l({nome_attuatore:t.nome_attuatore,timer_salita:e.target.value})},q=function(e){W(e.target.value),o({nome_attuatore:t.nome_attuatore,timer_discesa:e.target.value})};return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(s.a,{style:{paddingTop:"20px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"1px solid black"},children:[Object(j.jsx)(O.a.Header,{children:Object(j.jsx)(p.a,{children:Object(j.jsx)(g.a,{lg:4,style:{textAlign:"left"},className:"text-primary",children:Object(j.jsx)("input",{type:"text",className:"form-control",value:A,onChange:function(e){var t=e.target.value.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"_").replace(/_+/g,"_");C(t)},onBlur:function(e){var c=A.trim().replace(/^_+|_+$/g,"");n({nome_attuatore:t.nome_attuatore,nuovonome:c})},style:{textTransform:"lowercase"}})})})}),Object(j.jsx)(O.a.Body,{children:Object(j.jsx)(s.a,{fluid:!0,children:Object(j.jsxs)(p.a,{children:["campanello_porta"===u?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Citofono interno"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("input",{onChange:Q,className:"form-control",style:{width:"90%"},min:"0",max:"9",type:"number",name:"PuntoLuce",step:"1",value:I})})]})}),Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{})}),Object(j.jsx)(g.a,{lg:8})]})})]}):"serrature"===u?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Posto Esterno"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("input",{onChange:U,className:"form-control",style:{width:"90%"},min:"0",max:"9",type:"number",name:"Ambiente",step:"1",value:E})})]})}),Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{})}),Object(j.jsx)(g.a,{lg:8})]})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Ambiente"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("input",{onChange:U,className:"form-control",style:{width:"90%"},min:"0",max:"9",type:"number",name:"Ambiente",step:"1",value:E})})]})}),Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Puno Luce"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("input",{onChange:Q,className:"form-control",style:{width:"90%"},min:"0",max:"9",type:"number",name:"PuntoLuce",step:"1",value:I})})]})})]}),Object(j.jsx)(g.a,{lg:_?3:6,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Tipo Attuatore"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsxs)("select",{id:"cars",name:"cars",value:u,onChange:function(e){x(e.target.value),"serrande_tapparelle"===e.target.value?N(!0):N(!1),r({nome_attuatore:t.nome_attuatore,tipo_attuatore:e.target.value})},children:[">",Object(j.jsx)("option",{value:"on_off",children:"ON/OFF"}),Object(j.jsx)("option",{value:"dimmer",children:"Dimmer"}),Object(j.jsx)("option",{value:"serrande_tapparelle",children:"Serrande/Tapparelle"}),Object(j.jsx)("option",{value:"gruppi",children:"Gruppi"}),Object(j.jsx)("option",{value:"sensori_temperatura",children:"Sensori Temperatura"}),Object(j.jsx)("option",{value:"termostati",children:"Termostati"}),Object(j.jsx)("option",{value:"serrature",children:"Serrature"}),Object(j.jsx)("option",{value:"campanello_porta",children:"Campanello porta"})]})})]})}),_?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(g.a,{lg:3,children:[Object(j.jsx)(g.a,{children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{children:Object(j.jsx)("i",{children:"Timer Salita [mS]"})}),Object(j.jsx)(g.a,{lg:12,children:Object(j.jsx)("input",{className:"form-control",onChange:J,min:"1000",type:"number",name:"SetTemp",step:"1",value:K})})]})}),Object(j.jsx)(g.a,{children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{children:Object(j.jsx)("i",{children:"Timer Discesa [mS]"})}),Object(j.jsx)(g.a,{lg:12,children:Object(j.jsx)("input",{className:"form-control",onChange:q,min:"1000",type:"number",name:"SetTemp",step:"1",value:B})})]})})]})}):null,Object(j.jsx)(g.a,{style:{alignSelf:"center"},children:Object(j.jsx)("div",{style:{textAlign:"center",alignItems:"right"},children:Object(j.jsx)(v.a,{style:{marginRight:"8px"},size:"md",variant:"outline-danger",onClick:function(){console.log("handleELIMINA"),d({nome_attuatore:t.nome_attuatore})},children:"ELIMINA"})})})]})})})]})})})};var L=function(e){var t=e.device,n=e.handle_CHANHE_NOME,c=e.handle_CHANHE_A,a=e.handle_CHANHE_PL,i=e.handle_TIPO,r=e.handle_TIMER_UP,s=e.handle_TIMER_DOWN,l=e.handle_ELIMINA;return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(P,{device:t,handle_CHANHE_NOME:n,handle_CHANHE_A:c,handle_CHANHE_PL:a,handle_TIPO:i,handle_TIMER_UP:r,handle_TIMER_DOWN:s,handle_ELIMINA:l})})};var M=function(e){var t=e.handel_AGIUNGInew,n=Object(c.useState)(""),a=Object(m.a)(n,2),i=a[0],r=a[1],l=Object(c.useState)(0),o=Object(m.a)(l,2),d=o[0],b=o[1],h=Object(c.useState)(0),u=Object(m.a)(h,2),x=u[0],f=u[1],y=Object(c.useState)("on_off"),_=Object(m.a)(y,2),N=_[0],T=_[1],S=Object(c.useState)(!1),A=Object(m.a)(S,2),C=A[0],w=A[1],z=Object(c.useState)(8e3),E=Object(m.a)(z,2),R=E[0],k=E[1],F=Object(c.useState)(8e3),I=Object(m.a)(F,2),P=I[0],L=I[1],M=function(e){b(e.target.value)},K=function(e){f(e.target.value)},H=function(e){k(e.target.value)},D=function(e){L(e.target.value)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(s.a,{style:{paddingTop:"2rem"},children:[Object(j.jsx)("hr",{}),Object(j.jsx)("div",{children:Object(j.jsx)("h3",{children:"Aggiungi Attuatore"})})]}),Object(j.jsx)(s.a,{style:{paddingTop:"20px",marginBottom:"100px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"2px solid blue"},children:[Object(j.jsx)(O.a.Header,{className:"bg-secondary ",children:Object(j.jsx)(p.a,{children:Object(j.jsx)(g.a,{lg:4,style:{textAlign:"left"},className:"text-primary",children:Object(j.jsx)("input",{type:"text",className:"form-control",value:i,placeholder:"Inserisci il nome dell'Attuatore",onChange:function(e){var t=e.target.value.toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"_").replace(/_+/g,"_");r(t)},onBlur:function(e){},style:{textTransform:"lowercase"}})})})}),Object(j.jsx)(O.a.Body,{children:Object(j.jsx)(s.a,{fluid:!0,children:Object(j.jsxs)(p.a,{children:["campanello_porta"===N?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Citofono interno"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("input",{className:"form-control",style:{width:"90%"},type:"number",name:"SetTemp",min:"0",max:"9",step:"1",value:x,onChange:K})})]})}),Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{})}),Object(j.jsx)(g.a,{lg:8})]})})]}):"serrature"===N?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Posto Esterno"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("input",{className:"form-control",style:{width:"90%"},type:"number",name:"SetTemp",min:"0",max:"9",step:"1",value:d,onChange:M})})]})}),Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{})}),Object(j.jsx)(g.a,{lg:8})]})})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Ambiente"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("input",{className:"form-control",style:{width:"90%"},type:"number",name:"SetTemp",min:"0",max:"9",step:"1",value:d,onChange:M})})]})}),Object(j.jsx)(g.a,{lg:2,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Puno Luce"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("input",{className:"form-control",style:{width:"90%"},type:"number",name:"SetTemp",min:"0",max:"9",step:"1",value:x,onChange:K})})]})})]}),Object(j.jsx)(g.a,{lg:C?3:6,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:8,children:Object(j.jsx)("i",{children:"Tipo Attuatore"})}),Object(j.jsx)(g.a,{lg:8,children:Object(j.jsxs)("select",{name:"tipiattuatori",value:N,onChange:function(e){T(e.target.value),"serrande_tapparelle"===e.target.value?w(!0):w(!1)},children:[Object(j.jsx)("option",{value:"on_off",children:"ON/OFF"}),Object(j.jsx)("option",{value:"dimmer",children:"Dimmer"}),Object(j.jsx)("option",{value:"serrande_tapparelle",children:"Serrande/Tapparelle"}),Object(j.jsx)("option",{value:"gruppi",children:"Gruppi"}),Object(j.jsx)("option",{value:"sensori_temperatura",children:"Sensori Temperatura"}),Object(j.jsx)("option",{value:"termostati",children:"Termostati"}),Object(j.jsx)("option",{value:"serrature",children:"Serrature"}),Object(j.jsx)("option",{value:"campanello_porta",children:"Campanello porta"})]})})]})}),C?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(g.a,{lg:3,children:[Object(j.jsx)(g.a,{children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{children:Object(j.jsx)("i",{children:"Timer Salita [mS]"})}),Object(j.jsx)(g.a,{lg:12,children:Object(j.jsx)("input",{className:"form-control",onChange:H,min:"1000",type:"number",name:"SetTemp",step:"1",value:R})})]})}),Object(j.jsx)(g.a,{children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{children:Object(j.jsx)("i",{children:"Timer Discesa [mS]"})}),Object(j.jsx)(g.a,{lg:12,children:Object(j.jsx)("input",{className:"form-control",onChange:D,min:"1000",type:"number",name:"SetTemp",step:"1",value:P})})]})})]})}):null,Object(j.jsx)(g.a,{style:{alignSelf:"center"},children:Object(j.jsx)("div",{style:{textAlign:"center",alignItems:"right"},children:Object(j.jsx)(v.a,{style:{marginRight:"8px"},size:"md",className:"btn-primary",onClick:function(e){var n=i.trim().replace(/^_+|_+$/g,"");t("serrande_tapparelle"===N?{nome_attuatore:n,indirizzo_Ambiente:d,indirizzo_PL:x,tipo_attuatore:N,timer_salita:R,timer_discesa:P}:{nome_attuatore:n,indirizzo_Ambiente:d,indirizzo_PL:x,tipo_attuatore:N}),r("")},children:"AGGIUNGI"})})})]})})})]})})]})};var K=function(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!1),r=Object(m.a)(i,2),s=r[0],l=r[1],o=function(){return l(!1)},d=function(){return l(!0)},h=Object(c.useState)(""),O=Object(m.a)(h,2),p=O[0],g=O[1];Object(c.useEffect)((function(){a([]),function(){var e=Object(x.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/GetConfigurazionereact.json").then((function(e){return e.json()})).then((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var f=function(e,t){var n=JSON.stringify(t);fetch("/"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:n}).then((function(e){return e.json()})).then((function(e){console.log("OKKKKKKKKKKKKKKKKK"),console.log(e)}))},y=function(e){var t={nome_attuatore:e.nome_attuatore,nuovo_nome:e.nuovonome};f("AGGIORNA_NOME_ATTUATORE.json",t),n.find((function(t){return t.nome_attuatore===e.nome_attuatore})).nome_attuatore=e.nuovonome},_=function(e){var t={nome_attuatore:e.nome_attuatore,indirizzo_Ambiente:e.indirizzo_Ambiente};f("AGGIORNA_INDIRIZZO_A.json",t),n.find((function(t){return t.nome_attuatore===e.nome_attuatore})).indirizzo_Ambiente=e.indirizzo_Ambiente},N=function(e){var t={nome_attuatore:e.nome_attuatore,indirizzo_PL:e.indirizzo_PL};f("AGGIORNA_INDIRIZZO_PL.json",t),n.find((function(t){return t.nome_attuatore===e.nome_attuatore})).indirizzo_PL=e.indirizzo_PL},T=function(e){var t={nome_attuatore:e.nome_attuatore,tipo_attuatore:e.tipo_attuatore};f("AGGIORNA_TIPO_ATTUATORE.json",t),n.find((function(t){return t.nome_attuatore===e.nome_attuatore})).tipo_attuatore=e.tipo_attuatore},S=function(e){var t={nome_attuatore:e.nome_attuatore,timer_salita:e.timer_salita};f("AGGIORNA_TIMER_SERRANDETAPPARELLE.json",t),n.find((function(t){return t.nome_attuatore===e.nome_attuatore})).timer_salita=e.timer_salita},A=function(e){var t={nome_attuatore:e.nome_attuatore,timer_discesa:e.timer_discesa};f("AGGIORNA_TIMER_SERRANDETAPPARELLE.json",t),n.find((function(t){return t.nome_attuatore===e.nome_attuatore})).timer_discesa=e.timer_discesa},C=function(e){var t={nome_attuatore:e.nome_attuatore};f("RIMUOVI_ATTUATORE.json",t);var c=n.filter((function(t){return t.nome_attuatore!==e.nome_attuatore}));a(c)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"container-fluid",children:[n.map((function(e,t){return Object(j.jsx)("div",{children:Object(j.jsx)(L,{device:e,handle_CHANHE_NOME:y,handle_CHANHE_A:_,handle_CHANHE_PL:N,handle_TIPO:T,handle_TIMER_UP:S,handle_TIMER_DOWN:A,handle_ELIMINA:C})},e.nome_attuatore)})),Object(j.jsx)(M,{handel_AGIUNGInew:function(e){""===e.nome_attuatore?(g("Il nome del nuovo Attuatore non pu\xf2 essere vuoto"),d()):"undefined"===typeof n.find((function(t){return t.nome_attuatore===e.nome_attuatore}))?(f("AGGIUNGI_ATTUATORE.json",e),a((function(t){return[].concat(Object(b.a)(t),[e])}))):(g("Esiste gi\xe0 il nome dell'attuatore nel database"),d())}}),Object(j.jsxs)(I.a,{show:s,onHide:o,backdrop:"static",keyboard:!1,children:[Object(j.jsx)(I.a.Header,{closeButton:!0,children:Object(j.jsx)(I.a.Title,{children:"Errore"})}),Object(j.jsx)(I.a.Body,{children:p}),Object(j.jsx)(I.a.Footer,{children:Object(j.jsx)(v.a,{variant:"secondary",onClick:o,children:"Ok"})})]})]})})},H=n(11);var D=function(){var e=Object(H.e)();return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(s.a,{className:"justify-content-md-center",children:[Object(j.jsxs)("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center",children:[Object(j.jsx)("h1",{className:"display-4",children:"SCS-bus Raspberry shield"}),Object(j.jsx)("p",{className:"lead",children:"Benvenuti nella pagina di configurazione dei dispositivi del Bus SCS e Test"})]}),Object(j.jsxs)("div",{className:"card-deck text-center",children:[Object(j.jsxs)("div",{className:"card mb-4 shadow-sm d-flex flex-column",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h4",{className:"my-0 font-weight-normal",children:"Configurazione"})}),Object(j.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(j.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[Object(j.jsx)("li",{children:"Attuatori on/off"}),Object(j.jsx)("li",{children:"Dimmer"}),Object(j.jsx)("li",{children:"Serrande/Tapparelle"}),Object(j.jsx)("li",{children:"Gruppi"}),Object(j.jsx)("li",{children:"Sensori Temperatura"}),Object(j.jsx)("li",{children:"Termostati"}),Object(j.jsx)("li",{children:"Serrature"}),Object(j.jsx)("li",{children:"Campanello porta"})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-lg btn-block btn-primary mt-auto",onClick:function(){e.push("configurazione.html")},children:"Entra"})]})]}),Object(j.jsxs)("div",{className:"card mb-4 shadow-sm d-flex flex-column",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h4",{className:"my-0 font-weight-normal",children:"Test"})}),Object(j.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(j.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[Object(j.jsx)("li",{children:"Attuatori on/off"}),Object(j.jsx)("li",{children:"Dimmer"}),Object(j.jsx)("li",{children:"Serrande/Tapparelle"}),Object(j.jsx)("li",{children:"Gruppi"}),Object(j.jsx)("li",{children:"Sensori Temperatura"}),Object(j.jsx)("li",{children:"Termostati"}),Object(j.jsx)("li",{children:"Serrature"}),Object(j.jsx)("li",{children:"Campanello porta"})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-lg btn-block btn-primary mt-auto",onClick:function(){e.push("test.html")},children:"Entra"})]})]}),Object(j.jsxs)("div",{className:"card mb-4 shadow-sm d-flex flex-column",children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h4",{className:"my-0 font-weight-normal",children:"Node-RED"})}),Object(j.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(j.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[Object(j.jsx)("li",{children:"AWS IoTs"}),Object(j.jsx)("li",{children:"Alexa virtual-smart-home"})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-lg btn-block btn-primary mt-auto",onClick:function(){e.push("noderedHome.html")},children:"Entra"})]})]}),Object(j.jsxs)("div",{className:"card mb-4 shadow-sm d-flex flex-column",children:[Object(j.jsx)("div",{className:"card-header bg-success text-white",children:Object(j.jsx)("h4",{className:"my-0 font-weight-normal",children:"\ud83d\uddc4\ufe0f Database"})}),Object(j.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object(j.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[Object(j.jsx)("li",{children:"\ud83d\udcbe Backup automatico"}),Object(j.jsx)("li",{children:"\u2b07\ufe0f Download database"}),Object(j.jsx)("li",{children:"\u2b06\ufe0f Upload database"}),Object(j.jsx)("li",{children:"\ud83d\udd04 Ripristino configurazione"})]}),Object(j.jsx)("button",{type:"button",className:"btn btn-lg btn-block btn-success mt-auto",onClick:function(){e.push("database.html")},children:"Gestisci"})]})]})]})]})})},G=n(190),B=n(191);var W=function(){var e=Object(c.useState)(!1),t=Object(m.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(null),r=Object(m.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)("info"),b=Object(m.a)(d,2),h=b[0],f=b[1],y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";o(e),f(t),setTimeout((function(){return o(null)}),5e3)},_=function(){var e=Object(x.a)(u.a.mark((function e(){var t,n,c,a,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/download_database");case 3:if((t=e.sent).ok){e.next=9;break}return e.next=7,t.json();case 7:throw n=e.sent,new Error(n.error||"Download failed");case 9:return e.next=11,t.blob();case 11:c=e.sent,a=window.URL.createObjectURL(c),(i=document.createElement("a")).href=a,i.download="scs_database_".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(a),document.body.removeChild(i),y("\u2705 Database scaricato con successo!","success"),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),console.error("Download error:",e.t0),y("\u274c Errore download: ".concat(e.t0.message),"danger");case 27:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(x.a)(u.a.mark((function e(t){var n,c,i,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:if(n.name.endsWith(".json")){e.next=7;break}return y("\u274c Seleziona un file JSON valido","danger"),t.target.value=null,e.abrupt("return");case 7:return a(!0),y("\u23f3 Caricamento database in corso...","info"),(c=new FormData).append("database",n),e.prev=11,e.next=14,fetch("/upload_database",{method:"POST",body:c});case 14:return i=e.sent,e.next=17,i.json();case 17:r=e.sent,i.ok?(y("\u2705 Database caricato! Ricaricamento pagina...","success"),setTimeout((function(){window.location.reload()}),2e3)):y("\u274c Errore: ".concat(r.error),"danger"),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(11),console.error("Upload error:",e.t0),y("\u274c Errore upload: ".concat(e.t0.message),"danger");case 25:return e.prev=25,a(!1),t.target.value=null,e.finish(25);case 29:case"end":return e.stop()}}),e,null,[[11,21,25,29]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(x.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/backup_database",{method:"POST"});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,t.ok?y("\u2705 Backup creato: ".concat(n.backup_file),"success"):y("\u274c Errore backup: ".concat(n.error),"danger"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Backup error:",e.t0),y("\u274c Errore: ".concat(e.t0.message),"danger");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(s.a,{style:{paddingTop:"2rem",paddingBottom:"2rem"},children:[Object(j.jsxs)("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center",children:[Object(j.jsx)("h1",{className:"display-4",children:"\ud83d\uddc4\ufe0f Gestione Database"}),Object(j.jsx)("p",{className:"lead",children:"Backup, scarica e carica il database di configurazione"})]}),Object(j.jsx)(p.a,{className:"justify-content-center",children:Object(j.jsx)(g.a,{lg:8,children:Object(j.jsxs)(O.a,{className:"shadow-sm",children:[Object(j.jsx)(O.a.Header,{className:"bg-primary text-white",children:Object(j.jsx)("h4",{className:"my-0",children:"Operazioni Database"})}),Object(j.jsxs)(O.a.Body,{children:[l&&Object(j.jsx)(G.a,{variant:h,onClose:function(){return o(null)},dismissible:!0,children:l}),Object(j.jsxs)("div",{className:"d-grid gap-3",children:[Object(j.jsx)(v.a,{variant:"success",size:"lg",onClick:_,children:"\u2b07\ufe0f Scarica Database"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{htmlFor:"upload-db",style:{width:"100%"},children:Object(j.jsx)(v.a,{variant:"primary",size:"lg",as:"span",disabled:n,style:{width:"100%"},children:n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(B.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),"Caricamento..."]}):"\u2b06\ufe0f Carica Database"})}),Object(j.jsx)("input",{id:"upload-db",type:"file",accept:".json",onChange:N,disabled:n,style:{display:"none"}})]}),Object(j.jsx)(v.a,{variant:"warning",size:"lg",onClick:T,children:"\ud83d\udcbe Crea Backup Manuale"})]}),Object(j.jsxs)(G.a,{variant:"info",className:"mt-4 mb-0",children:[Object(j.jsx)("strong",{children:"\u2139\ufe0f Informazioni:"}),Object(j.jsxs)("ul",{className:"mb-0 mt-2",style:{fontSize:"0.9rem"},children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Scarica:"})," Salva una copia del database sul tuo computer"]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Carica:"})," Sostituisce il database attuale (viene creato un backup automatico)"]}),Object(j.jsxs)("li",{children:[Object(j.jsx)("strong",{children:"Backup:"})," Crea una copia di sicurezza in /data/backups/ (max 20 backup)"]}),Object(j.jsx)("li",{children:"La pagina si ricaricher\xe0 automaticamente dopo il caricamento"})]})]}),Object(j.jsxs)(G.a,{variant:"warning",className:"mt-3 mb-0",children:[Object(j.jsx)("strong",{children:"\u26a0\ufe0f Attenzione:"}),Object(j.jsxs)("ul",{className:"mb-0 mt-2",style:{fontSize:"0.9rem"},children:[Object(j.jsx)("li",{children:"Il caricamento sostituisce completamente il database esistente"}),Object(j.jsx)("li",{children:"Assicurati che il file JSON sia valido prima di caricarlo"}),Object(j.jsx)("li",{children:"I dispositivi verranno ricaricati automaticamente"})]})]})]})]})})})]})},U=n(71),Q=n(193);var J=function(){var e=Object(c.useState)(!0),t=Object(m.a)(e,2),n=(t[0],t[1]),a=Object(c.useState)(!1),i=Object(m.a)(a,2),r=i[0],l=i[1],o=Object(c.useState)(""),d=Object(m.a)(o,2),b=d[0],h=d[1],O=Object(c.useState)(""),p=Object(m.a)(O,2),g=p[0],f=p[1],y=Object(c.useRef)(null),_=Object(c.useState)(!1),N=Object(m.a)(_,2),T=N[0],S=N[1],A=Object(c.useState)(30),C=Object(m.a)(A,2),w=C[0],z=C[1],E=Object(c.useState)(!1),R=Object(m.a)(E,2),k=(R[0],R[1]),F=Object(c.useState)(null),I=Object(m.a)(F,2),P=I[0],L=I[1],M=30;Object(c.useEffect)((function(){return 0===w&&clearTimeout(P),function(){}}),[w]);var K=function(){var e=setInterval((function(){return console.log("tick "+M),void(0===M?k(!0):(console.log(M),z(M-=1)))}),1e3);L(e),l(!0)},H=function(e){y.current.select(),document.execCommand("copy"),e.target.focus(),S(!0)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(s.a,{className:"justify-content-md-center",style:{},children:[Object(j.jsx)("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center",children:Object(j.jsx)("h1",{className:"display-4",children:"Node-Red configurazione con Alexa"})}),Object(j.jsx)("div",{className:"card-deck text-center",children:Object(j.jsxs)("div",{className:"card mb-4 shadow-sm",style:{border:"1px solid black"},children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h4",{className:"my-0 font-weight-normal",children:"Configurazione Automatica"})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("i",{style:{color:"red"},children:"Eseguire i seguenti passaggi descritti in seguito:"})}),Object(j.jsxs)("h1",{className:"card-title ",children:[" ",Object(j.jsx)("small",{className:"text-muted",children:" "})]}),Object(j.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("p",{children:"Esporta auto-configurazione"}),Object(j.jsx)(v.a,{variant:"outline-primary",onClick:function(){n(!1);var e=window.location.host.split(":");h("http://"+e[0]+":1880"),function(){var e=Object(x.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/Send_to_NodeRed.json").then((function(e){return e.json()})).then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),K()},children:"1 - Esporta su Node-Red"})]}),Object(j.jsx)("li",{style:{marginTop:"20px"},children:!1===r?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("p",{})}):0===w?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("a",{href:b,target:"_blank",children:[b," "]})}):(console.log("countdown "+w),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("p",{children:[" Wait NodeRed start: ",w," sec"]})}))})]})]})]})}),Object(j.jsx)("div",{className:"card-deck text-center",children:Object(j.jsxs)("div",{className:"card mb-4 shadow-sm",style:{border:"1px solid black"},children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h4",{className:"my-0 font-weight-normal",children:"Configurazione Manuale"})}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("i",{style:{color:"red"},children:"Eseguire i seguenti passaggi descritti in seguito:"})}),Object(j.jsxs)("h1",{className:"card-title ",children:[" ",Object(j.jsx)("small",{className:"text-muted",children:" "})]}),Object(j.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("p",{children:"Genera NodeRed Flow"}),Object(j.jsx)(v.a,{variant:"outline-primary",onClick:function(){(function(){var e=Object(x.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/Get_NodeRed_manual_flow.json").then((function(e){return e.text()})).then((function(e){console.log(e),f(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},children:"Genera"})]}),Object(j.jsx)("li",{style:{marginTop:"20px"},children:""===g?Object(j.jsx)(j.Fragment,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Q.a.Control,{as:"textarea",rows:10,value:g,readonly:!0,ref:y}),Object(j.jsx)(v.a,{variant:"outline-primary",onClick:H,children:"Copy"})]})}),Object(j.jsx)("li",{style:{marginTop:"20px"},children:function(){var e="http://"+window.location.host.split(":")[0]+":1880";return!1===T?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("p",{})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("ul",{style:{listStyleType:"none"},children:[Object(j.jsx)("li",{children:"Apri node-red"}),Object(j.jsx)("li",{children:"Importa Flow"}),Object(j.jsx)("li",{children:"Incolla il contenuto generato"})]}),Object(j.jsxs)("a",{href:e,target:"_blank",children:[e," "]})]})}()})]})]})]})})]})})};var q=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(s.a,{className:"justify-content-md-center",style:{},children:[Object(j.jsx)("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center",children:Object(j.jsx)("h1",{className:"display-4",children:"Node-Red configurazione con Alexa"})}),Object(j.jsx)("div",{className:"card-deck text-center",children:Object(j.jsxs)("div",{className:"card mb-4 shadow-sm",style:{border:"1px solid black"},children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h4",{className:"my-0 font-weight-normal",children:"NodeRed AWS"})}),Object(j.jsx)("div",{children:Object(j.jsx)("p",{children:Object(j.jsx)("i",{children:Object(j.jsxs)("small",{children:["Configurare prima AWS Server: ",Object(j.jsx)("a",{href:"http://scsshields.altervista.org/AWS_Skill_Bticino.html",target:"_blank",children:"Guida"})]})})})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("ul",{className:"list-unstyled mt-3 mb-4",children:Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"/NoderedAlexaAWS.html",children:Object(j.jsx)(v.a,{variant:"outline-primary",children:"Entra"})})})})})]})}),Object(j.jsx)("div",{className:"card-deck text-center",children:Object(j.jsxs)("div",{className:"card mb-4 shadow-sm",style:{border:"1px solid black"},children:[Object(j.jsx)("div",{className:"card-header",children:Object(j.jsx)("h4",{className:"my-0 font-weight-normal",children:'NodeRed "virtual-smart-home" library'})}),Object(j.jsx)("div",{className:"card-body",children:Object(j.jsx)("ul",{className:"list-unstyled mt-3 mb-4",children:Object(j.jsx)("li",{children:Object(j.jsx)("a",{href:"/noderedAlexa.html",children:Object(j.jsx)(v.a,{variant:"outline-primary",children:"Entra"})})})})})]})})]})})};var V=function(e){var t=e.device,n=Object(c.useState)(""),a=Object(m.a)(n,2),i=a[0],r=a[1];return Object(c.useEffect)((function(){r(t.nome_endpoint)}),[t]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{className:"text-primary text-center",children:t.nome_attuatore}),Object(j.jsx)(g.a,{lg:6,className:"text-center"}),Object(j.jsx)(g.a,{children:Object(j.jsx)("input",{type:"text",className:"form-control",value:i,placeholder:"Inserisci endpoint",onChange:function(e){r(e.target.value)},onBlur:function(e){!function(e){var t=JSON.stringify(e);fetch("/SetDeviceEndPointAWS.json",{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then((function(e){return e.json()})).then((function(e){console.log("OKKKKKKKKKKKKKKKKK"),console.log(e)}))}({nome_attuatore:t.nome_attuatore,nome_endpoint:e.target.value})}})})]}),Object(j.jsx)("hr",{})]})};var Z=function(){var e=Object(c.useState)(""),t=Object(m.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),r=Object(m.a)(i,2),l=r[0],o=r[1],d=Object(c.useState)(""),b=Object(m.a)(d,2),h=b[0],f=b[1],y=Object(c.useState)(""),_=Object(m.a)(y,2),N=_[0],T=_[1],S=Object(c.useState)([]),A=Object(m.a)(S,2),C=A[0],w=A[1],z=Object(c.useState)(""),E=Object(m.a)(z,2),R=E[0],k=E[1],F=Object(c.useRef)(null),I=Object(c.useState)(!1),P=Object(m.a)(I,2),L=P[0],M=P[1];Object(c.useEffect)((function(){w([]);var e=function(){var e=Object(x.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/GetConfigurazionereact.json").then((function(e){return e.json()})).then((function(e){w(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();K(),e()}),[]);var K=function(){var e=Object(x.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/GetConfigurazionereactAWS.json").then((function(e){return e.json()})).then((function(e){a(e.EndPoint),o(e.PRIVATE_KEY),f(e.CERT_PEM),T(e.CRT)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=Object(c.useState)(),D=Object(m.a)(H,2),G=D[0],B=D[1],W=function(e){B(e.target.files[0])},U=function(e){var t=new FormData;t.append("File",G),fetch("/AWSCertificatiploadHandler.html?tipo="+e,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),K()})).catch((function(e){console.error("Error:",e)}))},J=function(e){F.current.select(),document.execCommand("copy"),e.target.focus(),M(!0)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center",children:Object(j.jsx)("h1",{className:"display-5",children:"Configurazione AWS-IoT"})}),Object(j.jsx)(s.a,{style:{paddingTop:"20px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"1px solid black"},children:[Object(j.jsx)(O.a.Header,{children:"EndPoint"}),Object(j.jsx)(O.a.Body,{children:Object(j.jsx)(s.a,{fluid:!0,children:Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:3,className:"text-primary text-center"}),Object(j.jsx)(g.a,{lg:6,className:"text-primary text-center",children:Object(j.jsx)("input",{type:"text",className:"form-control",value:n,placeholder:"Inserire indirizzo EndPoint AWS IoT",onChange:function(e){a(e.target.value)},onBlur:function(e){!function(e){var t=JSON.stringify(e);fetch("/GetConfigurazionereactAWS.json",{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then((function(e){return e.json()})).then((function(e){console.log("OKKKKKKKKKKKKKKKKK"),console.log(e)}))}({EndPoint:e.target.value})}})})]})})})]})}),Object(j.jsx)(s.a,{style:{paddingTop:"20px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"1px solid black"},children:[Object(j.jsx)(O.a.Header,{children:"Certificati AWS-IoT"}),Object(j.jsx)(O.a.Body,{children:Object(j.jsxs)(s.a,{fluid:!0,children:[Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:3,className:"text-primary text-center",children:"PRIVATE_KEY"}),Object(j.jsxs)(g.a,{lg:3,className:"text-center",children:['"',l,'"']}),Object(j.jsx)(g.a,{lg:3,className:"text-center",children:Object(j.jsx)("input",{type:"file",name:"file",accept:".pem.key",onChange:W})}),Object(j.jsx)(g.a,{className:"text-center",children:Object(j.jsx)("button",{onClick:function(){return U("PRIVATE_KEY")},children:"Submit"})})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:3,className:"text-primary text-center",children:"CERT_PEM"}),Object(j.jsxs)(g.a,{lg:3,className:"text-center",children:['"',h,'"']}),Object(j.jsx)(g.a,{lg:3,className:"text-center",children:Object(j.jsx)("input",{type:"file",name:"file",accept:".pem.crt",onChange:W})}),Object(j.jsx)(g.a,{className:"text-center",children:Object(j.jsx)("button",{onClick:function(){return U("CERT_PEM")},children:"Submit"})})]}),Object(j.jsx)("hr",{}),Object(j.jsxs)(p.a,{children:[Object(j.jsx)(g.a,{lg:3,className:"text-primary text-center",children:"root-CA"}),Object(j.jsxs)(g.a,{lg:3,className:"text-center",children:['"',N,'"']}),Object(j.jsx)(g.a,{lg:3,className:"text-center",children:Object(j.jsx)("input",{type:"file",name:"file",accept:".pem,.txt",onChange:W})}),Object(j.jsx)(g.a,{className:"text-center",children:Object(j.jsx)("button",{onClick:function(){return U("root-CA")},children:"Submit"})})]})]})})]})}),Object(j.jsx)(s.a,{style:{paddingTop:"20px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"1px solid black"},children:[Object(j.jsx)(O.a.Header,{children:"Assegnazione endpoint AWS lambda ai Dispositivi"}),Object(j.jsx)(O.a.Body,{children:Object(j.jsx)(s.a,{fluid:!0,children:C.map((function(e,t){return Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsx)(V,{device:e})},t)}))})})]})}),Object(j.jsx)(s.a,{style:{paddingTop:"20px",paddingBottom:"40px"},children:Object(j.jsxs)(O.a,{style:{width:"100%",border:"1px solid black"},children:[Object(j.jsx)(O.a.Header,{children:"Genera Flow NodeRed"}),Object(j.jsx)(O.a.Body,{children:Object(j.jsx)(s.a,{fluid:!0,className:"text-center",children:Object(j.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[Object(j.jsxs)("li",{children:[Object(j.jsx)("p",{children:"Genera NodeRed Flow"}),Object(j.jsx)(v.a,{variant:"outline-primary",onClick:function(){(function(){var e=Object(x.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/Get_NodeRedAWS_manual_flow.json").then((function(e){return e.text()})).then((function(e){k(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},children:"Genera"})]}),Object(j.jsx)("li",{style:{marginTop:"20px"},children:""===R?Object(j.jsx)(j.Fragment,{}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(Q.a.Control,{as:"textarea",rows:10,value:R,readonly:!0,ref:F}),Object(j.jsx)(v.a,{variant:"outline-primary",onClick:J,children:"Copy"})]})}),Object(j.jsx)("li",{style:{marginTop:"20px"},children:function(){var e="http://"+window.location.host.split(":")[0]+":1880";return!1===L?Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("p",{})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("ul",{style:{listStyleType:"none"},children:[Object(j.jsx)("li",{children:"Apri node-red"}),Object(j.jsx)("li",{children:"Importa Flow"}),Object(j.jsx)("li",{children:"Incolla il contenuto generato"})]}),Object(j.jsxs)("a",{href:e,target:"_blank",children:[e," "]})]})}()})]})})})]})})]})};var Y=function(){return Object(j.jsx)(U.a,{children:Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(d,{}),Object(j.jsx)(H.a,{exact:!0,path:"/",component:D}),Object(j.jsx)(H.a,{exact:!0,path:"/configurazione.html",component:K}),Object(j.jsx)(H.a,{exact:!0,path:"/database.html",component:W}),Object(j.jsx)(H.a,{exact:!0,path:"/test.html",component:F}),Object(j.jsx)(H.a,{exact:!0,path:"/noderedHome.html",component:q}),Object(j.jsx)(H.a,{exact:!0,path:"/noderedAlexa.html",component:J}),Object(j.jsx)(H.a,{exact:!0,path:"/NoderedAlexaAWS.html",component:Z})]})})},$=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,197)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))};n(183),n(184);r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(Y,{})}),document.getElementById("root")),$()}},[[185,1,2]]]);
//# sourceMappingURL=main.baf2893a.chunk.js.map