(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{111:function(e,t,n){},120:function(e,t){},122:function(e,t){},138:function(e,t){},140:function(e,t){},165:function(e,t){},166:function(e,t){},168:function(e,t){},170:function(e,t){},183:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),i=n(30),s=n.n(i),r=(n(111),n(185)),l=n(191),j=n(190),o=(n(8),n(0));var d=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.a,{children:Object(o.jsxs)(l.a,{bg:"light",expand:"lg",children:[Object(o.jsx)(l.a.Brand,{href:"",children:"SCSshield"}),Object(o.jsx)(l.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(o.jsx)(l.a.Collapse,{id:"basic-navbar-nav",children:Object(o.jsxs)(j.a,{className:"mr-auto",children:[Object(o.jsx)(j.a.Link,{href:"/",children:"Home"}),Object(o.jsx)(j.a.Link,{href:"configurazione.html",children:"Configurazioni"}),Object(o.jsx)(j.a.Link,{href:"test.html",children:"Test"}),Object(o.jsx)(j.a.Link,{href:"noderedHome.html",children:"Node-Red"})]})})]})})})},b=n(56),h=n(15),x=n.n(h),u=n(23),O=n(5),m=n(192),p=n(186),g=n(103);var f=function(e){var t=e.device,n=e.valuedataRT,a=e.clientMWTT,i=Object(c.useState)("lamp_disabilitata.svg"),s=Object(O.a)(i,2),l=s[0],j=s[1];return Object(c.useEffect)((function(){t.nome_attuatore===n.nome_attuatore&&(0==n.stato.localeCompare("on")||0==n.stato.localeCompare("1")?j("lamp_accesa.svg"):j("lamp_spenta.svg"))}),[n]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.a,{style:{paddingTop:"20px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"1px solid black"},children:[Object(o.jsx)(m.a.Header,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(o.jsx)("h5",{children:t.nome_attuatore})}),Object(o.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Ambiente: ",t.indirizzo_Ambiente]})}),Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Punto Luce: ",t.indirizzo_PL]})})]})]})}),Object(o.jsx)(m.a.Body,{children:Object(o.jsx)(r.a,{fluid:!0,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Stato"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("img",{"data-icon":"switch",src:"/site/image/"+l,style:{width:"32px"}})})]})}),Object(o.jsx)(g.a,{style:{alignSelf:"center"},children:Object(o.jsxs)("div",{style:{textAlign:"center",alignItems:"right"},children:[Object(o.jsx)("button",{style:{marginRight:"5px"},type:"button",className:"btn btn-success btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/switch";a.publish(e,"on")}},children:"ON"}),Object(o.jsx)("button",{style:{marginRight:"5px"},type:"button",className:"btn btn-primary btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/switch";a.publish(e,"t")}},children:"T"}),Object(o.jsx)("button",{type:"button",className:"btn btn-danger btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/switch";a.publish(e,"off")}},children:"OFF"})]})})]})})}),Object(o.jsxs)(m.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(o.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(o.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"ON/OFF"})]})]})})})},v=n(187);var _=function(e){var t=e.device,n=e.valuedataRT,a=e.clientMWTT,i=Object(c.useState)("--.-\xb0"),s=Object(O.a)(i,2),l=s[0],j=s[1];return Object(c.useEffect)((function(){t.nome_attuatore===n.nome_attuatore&&j(n.stato+"\xb0")}),[n]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.a,{style:{paddingTop:"20px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"1px solid black"},children:[Object(o.jsx)(m.a.Header,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(o.jsx)("h5",{children:t.nome_attuatore})}),Object(o.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Ambiente: ",t.indirizzo_Ambiente]})}),Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Punto Luce: ",t.indirizzo_PL]})})]})]})}),Object(o.jsx)(m.a.Body,{children:Object(o.jsx)(r.a,{fluid:!0,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,style:{alignSelf:"center"},children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Temp-Ambiente"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("b",{children:l})})]})}),Object(o.jsx)(g.a,{style:{alignSelf:"center"},children:Object(o.jsx)("div",{style:{textAlign:"center",alignItems:"right"},children:Object(o.jsx)(v.a,{style:{marginRight:"8px"},size:"md",variant:"outline-primary",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/request";a.publish(e," ")}},children:"Aggiorna"})})})]})})}),Object(o.jsxs)(m.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(o.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(o.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"SENSORE-TEMPERATURA"})]})]})})})};var y=function(e){var t=e.device,n=e.valuedataRT,a=e.clientMWTT,i=Object(c.useState)("--.-\xb0"),s=Object(O.a)(i,2),l=s[0],j=s[1],d=Object(c.useState)("--.-\xb0"),b=Object(O.a)(d,2),h=b[0],x=b[1],u=Object(c.useState)("----"),f=Object(O.a)(u,2),_=f[0],y=f[1];return Object(c.useEffect)((function(){if(t.nome_attuatore===n.nome_attuatore){var e=n.topic.split("/");null!=e[4]&&(0==e[4].localeCompare("status")?j(n.stato+"\xb0"):0==e[4].localeCompare("temperatura_termostato_impostata")?x(n.stato):0==e[4].localeCompare("modalita_termostato_impostata")&&y(n.stato))}}),[n]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.a,{style:{paddingTop:"20px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"1px solid black"},children:[Object(o.jsx)(m.a.Header,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(o.jsx)("h5",{children:t.nome_attuatore})}),Object(o.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Ambiente: ",t.indirizzo_Ambiente]})}),Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Punto Luce: ",t.indirizzo_PL]})})]})]})}),Object(o.jsx)(m.a.Body,{children:Object(o.jsx)(r.a,{fluid:!0,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Temp-Ambiente"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("b",{children:l})})]})}),Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Temp-Termostato"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("b",{children:h})})]})}),Object(o.jsx)(g.a,{lg:2,style:{alignSelf:"center"},children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Modalita"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("b",{children:_})})]})}),Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:6,children:Object(o.jsx)("i",{children:"Set Temp"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("div",{className:"col-xs-1",children:Object(o.jsx)("input",{className:"form-control",style:{width:"90%"},type:"number",name:"SetTemp",step:"0.5",value:h,onChange:function(e){x(e.target.value)},onBlur:function(e){if(a&&a.connected){var n="/scsshield/device/"+t.nome_attuatore+"/set_temp_termostato";a.publish(n,e.target.value)}}})})})]})}),Object(o.jsx)(g.a,{style:{alignSelf:"center"},children:Object(o.jsxs)("div",{style:{textAlign:"center",alignItems:"right"},children:[Object(o.jsx)(v.a,{style:{marginRight:"8px"},size:"md",variant:"outline-primary",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/set_modalita_termostato";a.publish(e,"estate")}},children:"CALDO"}),Object(o.jsx)(v.a,{style:{marginRight:"8px"},size:"md",variant:"outline-primary",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/set_modalita_termostato";a.publish(e,"off")}},children:"OFF"}),Object(o.jsx)(v.a,{size:"md",variant:"outline-primary",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/set_modalita_termostato";a.publish(e,"inverno")}},children:"FREDDO"})]})})]})})}),Object(o.jsxs)(m.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(o.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(o.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"TERMOSTATO"})]})]})})})},N=n(54),T=n.n(N);var A=function(e){var t=e.device,n=e.valuedataRT,a=e.clientMWTT,i=Object(c.useState)(50),s=Object(O.a)(i,2),l=s[0],j=s[1];return Object(c.useEffect)((function(){t.nome_attuatore===n.nome_attuatore&&j(n.stato)}),[n]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.a,{style:{paddingTop:"20px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"1px solid black"},children:[Object(o.jsx)(m.a.Header,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(o.jsx)("h5",{children:t.nome_attuatore})}),Object(o.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Ambiente: ",t.indirizzo_Ambiente]})}),Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Punto Luce: ",t.indirizzo_PL]})})]})]})}),Object(o.jsx)(m.a.Body,{children:Object(o.jsx)(r.a,{fluid:!0,children:Object(o.jsx)(p.a,{children:Object(o.jsx)(g.a,{sm:12,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{children:Object(o.jsx)("i",{children:"Stato %"})}),Object(o.jsx)(g.a,{lg:6,children:Object(o.jsx)(T.a,{tooltip:"on",value:l,min:"0",max:"100",step:"1",onChange:function(e){j(e.target.value)},onAfterChange:function(e){if(a&&a.connected){var n="/scsshield/device/"+t.nome_attuatore+"/percentuale";a.publish(n,l)}}})})]})})})})}),Object(o.jsxs)(m.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(o.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(o.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"SERRANDE/TAPPARELLE"})]})]})})})};var S=function(e){var t=e.device,n=e.valuedataRT,a=e.clientMWTT,i=Object(c.useState)("lamp_disabilitata.svg"),s=Object(O.a)(i,2),l=s[0],j=s[1],d=Object(c.useState)("--%"),b=Object(O.a)(d,2),h=b[0],x=b[1],u=Object(c.useState)(50),f=Object(O.a)(u,2),v=f[0],_=f[1];return Object(c.useEffect)((function(){t.nome_attuatore===n.nome_attuatore&&(null!=n.topic.split("/")[5]?(x(n.stato+"%"),_(n.stato)):0==n.stato.localeCompare("on")||0==n.stato.localeCompare("1")?j("lamp_accesa.svg"):j("lamp_spenta.svg"))}),[n]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.a,{style:{paddingTop:"20px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"1px solid black"},children:[Object(o.jsx)(m.a.Header,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(o.jsx)("h5",{children:t.nome_attuatore})}),Object(o.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Ambiente: ",t.indirizzo_Ambiente]})}),Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Punto Luce: ",t.indirizzo_PL]})})]})]})}),Object(o.jsx)(m.a.Body,{children:Object(o.jsx)(r.a,{fluid:!0,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:4,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Stato Percentuale "})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("b",{children:h})})]})}),Object(o.jsx)(g.a,{lg:2,style:{alignSelf:"center"},children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Stato"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("img",{"data-icon":"switch",src:"/site/image/"+l,style:{width:"32px"}})})]})}),Object(o.jsx)(g.a,{lg:3,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:6,children:Object(o.jsx)("i",{children:"Set Dimmer"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("div",{className:"col-xs-1",children:Object(o.jsx)(T.a,{tooltip:"off",value:v,min:"10",max:"100",step:"10",onChange:function(e){x(n.stato+"%"),_(e.target.value)},onAfterChange:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/dimmer";a.publish(e,"on"),e="/scsshield/device/"+t.nome_attuatore+"/dimmer",a.publish(e,v)}}})})})]})}),Object(o.jsx)(g.a,{style:{alignSelf:"center"},children:Object(o.jsxs)("div",{style:{textAlign:"center",alignItems:"right"},children:[Object(o.jsx)("button",{style:{marginRight:"5px"},type:"button",className:"btn btn-success btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/dimmer";a.publish(e,"on")}},children:"ON"}),Object(o.jsx)("button",{style:{marginRight:"5px"},type:"button",className:"btn btn-primary btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/dimmer";a.publish(e,"t")}},children:"T"}),Object(o.jsx)("button",{type:"button",className:"btn btn-danger btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/dimmer";a.publish(e,"off")}},children:"OFF"})]})})]})})}),Object(o.jsxs)(m.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(o.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(o.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"Dimmer"})]})]})})})};var C=function(e){var t=e.device,n=e.valuedataRT,a=e.clientMWTT,i=Object(c.useState)("lamp_disabilitata.svg"),s=Object(O.a)(i,2),l=s[0],j=s[1];return Object(c.useEffect)((function(){t.nome_attuatore===n.nome_attuatore&&(0==n.stato.localeCompare("on")||0==n.stato.localeCompare("1")?j("lamp_accesa.svg"):j("lamp_spenta.svg"))}),[n]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.a,{style:{paddingTop:"20px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"1px solid black"},children:[Object(o.jsx)(m.a.Header,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(o.jsx)("h5",{children:t.nome_attuatore})}),Object(o.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Ambiente: ",t.indirizzo_Ambiente]})}),Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Punto Luce: ",t.indirizzo_PL]})})]})]})}),Object(o.jsx)(m.a.Body,{children:Object(o.jsx)(r.a,{fluid:!0,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Stato"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("img",{"data-icon":"switch",src:"/site/image/"+l,style:{width:"32px"}})})]})}),Object(o.jsx)(g.a,{style:{alignSelf:"center"},children:Object(o.jsxs)("div",{style:{textAlign:"center",alignItems:"right"},children:[Object(o.jsx)("button",{style:{marginRight:"5px"},type:"button",className:"btn btn-success btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/switch";a.publish(e,"on")}},children:"ON"}),Object(o.jsx)("button",{style:{marginRight:"5px"},type:"button",className:"btn btn-primary btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/switch";a.publish(e,"t")}},children:"T"}),Object(o.jsx)("button",{type:"button",className:"btn btn-danger btn-md",onClick:function(){if(a&&a.connected){var e="/scsshield/device/"+t.nome_attuatore+"/switch";a.publish(e,"off")}},children:"OFF"})]})})]})})}),Object(o.jsxs)(m.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(o.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(o.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"GRUPPI"})]})]})})})};var E=function(e){var t=e.device,n=(e.valuedataRT,e.clientMWTT);return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.a,{style:{paddingTop:"20px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"1px solid black"},children:[Object(o.jsx)(m.a.Header,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(o.jsx)("h5",{children:t.nome_attuatore})}),Object(o.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Posto Esterno: ",t.indirizzo_Ambiente]})}),Object(o.jsx)(p.a,{children:Object(o.jsx)(g.a,{style:{textAlign:"right",marginRight:"12px"}})})]})]})}),Object(o.jsx)(m.a.Body,{children:Object(o.jsx)(r.a,{fluid:!0,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{})}),Object(o.jsx)(g.a,{lg:8})]})}),Object(o.jsx)(g.a,{style:{alignSelf:"center"},children:Object(o.jsx)("div",{style:{textAlign:"center",alignItems:"right"},children:Object(o.jsx)("button",{type:"button",className:"btn btn-danger btn-md",onClick:function(){if(n&&n.connected){var e="/scsshield/device/"+t.nome_attuatore+"/sblocca";n.publish(e,"sblocca")}},children:"SBLOCCA"})})})]})})}),Object(o.jsxs)(m.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(o.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(o.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"SERRATURE"})]})]})})})};var R=function(e){var t=e.device,n=e.valuedataRT,a=(e.clientMWTT,Object(c.useState)("bell_off.jpg")),i=Object(O.a)(a,2),s=i[0],l=i[1];return Object(c.useEffect)((function(){t.nome_attuatore===n.nome_attuatore&&(0==n.stato.localeCompare("on")||0==n.stato.localeCompare("1")?l("bell_on.jpg"):l("bell_off.jpg"))}),[n]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.a,{style:{paddingTop:"20px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"1px solid black"},children:[Object(o.jsx)(m.a.Header,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{style:{textAlign:"left"},className:"text-primary",children:Object(o.jsx)("h5",{children:t.nome_attuatore})}),Object(o.jsxs)(g.a,{style:{textAlign:"right",fontSize:"12px"},children:[Object(o.jsx)(p.a,{children:Object(o.jsxs)(g.a,{style:{textAlign:"right",marginRight:"12px"},children:["Citofono interno: ",t.indirizzo_PL]})}),Object(o.jsx)(p.a,{children:Object(o.jsx)(g.a,{style:{textAlign:"right",marginRight:"12px"}})})]})]})}),Object(o.jsx)(m.a.Body,{children:Object(o.jsx)(r.a,{fluid:!0,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:12,children:Object(o.jsx)("i",{children:"Stato"})}),Object(o.jsx)(g.a,{lg:12,children:Object(o.jsx)("img",{"data-icon":"switch",src:"/site/image/"+s,style:{width:"32px"}})})]})})}),Object(o.jsxs)(m.a.Footer,{className:"text-muted",style:{textAlign:"center"},children:[Object(o.jsx)("p",{style:{fontSize:"9px",margin:0,padding:"0%"},children:"-Tipo-"}),Object(o.jsx)("p",{style:{fontSize:"15px",margin:0,padding:"0%"},children:"CAMPANELLO"})]})]})})})};var z=function(e){var t=e.device,n=e.mqttdata,c=e.clientMWTT;return"on_off"===t.tipo_attuatore?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(f,{device:t,valuedataRT:n,clientMWTT:c})}):"sensori_temperatura"===t.tipo_attuatore?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(_,{device:t,valuedataRT:n,clientMWTT:c})}):"termostati"===t.tipo_attuatore?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(y,{device:t,valuedataRT:n,clientMWTT:c})}):"serrande_tapparelle"===t.tipo_attuatore?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(A,{device:t,valuedataRT:n,clientMWTT:c})}):"dimmer"===t.tipo_attuatore?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(S,{device:t,valuedataRT:n,clientMWTT:c})}):"gruppi"===t.tipo_attuatore?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(C,{device:t,valuedataRT:n,clientMWTT:c})}):"serrature"===t.tipo_attuatore?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(E,{device:t,valuedataRT:n,clientMWTT:c})}):"campanello_porta"===t.tipo_attuatore?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(R,{device:t,valuedataRT:n,clientMWTT:c})}):Object(o.jsx)(o.Fragment,{})},w=n(104),F=n.n(w),I="ws://"+window.location.host+":9001";var k=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)([]),s=Object(O.a)(i,2),r=s[0],l=s[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),h=d[0],m=d[1],p=Object(c.useState)(""),g=Object(O.a)(p,2),f=(g[0],g[1]);return Object(c.useEffect)((function(){var e=null;a([]),console.log("**** FETCH DATA ****");return function(){var e=Object(u.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/GetConfigurazionereact.json").then((function(e){return e.json()})).then((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),null==e||(console.log("CLOSEEEE era aperto"),e.unsubscribe("/scsshield/device/+/status"),e.unsubscribe("/scsshield/device/+/status/percentuale"),e.unsubscribe("/scsshield/device/+/modalita_termostato_impostata"),e.unsubscribe("/scsshield/device/+/temperatura_termostato_impostata"),e.end(),e.close()),e=F.a.connect(I),l(e),e.on("connect",(function(){console.log("MQTT Connesso....ok!"),e.subscribe("/scsshield/device/+/status"),e.subscribe("/scsshield/device/+/status/percentuale"),e.subscribe("/scsshield/device/+/modalita_termostato_impostata"),e.subscribe("/scsshield/device/+/temperatura_termostato_impostata")})),e.on("error",(function(){console.log("MQTT ERROR!"),e.end()})),e.on("message",(function(e,t,n){var c=new TextDecoder("utf-8").decode(t);if(0==e.localeCompare("/scsshield/debug/bus"))f((function(e){return[].concat(Object(b.a)(e),[c+"\n"])}));else{var a={nome_attuatore:e.split("/")[3],stato:c.toLowerCase(),topic:e};m(a),console.log(a.nome_attuatore),console.log(a.stato)}})),function(){console.log("CLOSEEE"),a([]),e.unsubscribe("/scsshield/device/+/status"),e.unsubscribe("/scsshield/device/+/status/percentuale"),e.unsubscribe("/scsshield/device/+/modalita_termostato_impostata"),e.unsubscribe("/scsshield/device/+/temperatura_termostato_impostata"),e.end()}}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{className:"container-fluid",children:n.map((function(e,t){return Object(o.jsx)("div",{style:{marginBottom:"50px"},children:Object(o.jsx)(z,{device:e,mqttdata:h,clientMWTT:r})},t)}))})})},P=n(188);var L=function(e){var t=e.device,n=e.handle_CHANHE_NOME,a=e.handle_CHANHE_A,i=e.handle_CHANHE_PL,s=e.handle_TIPO,l=e.handle_TIMER_UP,j=e.handle_TIMER_DOWN,d=e.handle_ELIMINA,b=Object(c.useState)("on_off"),h=Object(O.a)(b,2),x=h[0],u=h[1],f=Object(c.useState)(!1),_=Object(O.a)(f,2),y=_[0],N=_[1],T=Object(c.useState)(""),A=Object(O.a)(T,2),S=A[0],C=A[1],E=Object(c.useState)(0),R=Object(O.a)(E,2),z=R[0],w=R[1],F=Object(c.useState)(0),I=Object(O.a)(F,2),k=I[0],P=I[1],L=Object(c.useState)(8e3),K=Object(O.a)(L,2),M=K[0],H=K[1],G=Object(c.useState)(8e3),W=Object(O.a)(G,2),B=W[0],D=W[1];Object(c.useEffect)((function(){u(t.tipo_attuatore),w(t.indirizzo_Ambiente),P(t.indirizzo_PL),"timer_salita"in t&&H(t.timer_salita),"timer_discesa"in t&&D(t.timer_discesa),C(t.nome_attuatore),"serrande_tapparelle"===t.tipo_attuatore?N(!0):N(!1)}),[]);var U=function(e){w(e.target.value),a({nome_attuatore:t.nome_attuatore,indirizzo_Ambiente:e.target.value})},J=function(e){P(e.target.value),i({nome_attuatore:t.nome_attuatore,indirizzo_PL:e.target.value})},V=function(e){H(e.target.value),l({nome_attuatore:t.nome_attuatore,timer_salita:e.target.value})},Z=function(e){D(e.target.value),j({nome_attuatore:t.nome_attuatore,timer_discesa:e.target.value})};return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(r.a,{style:{paddingTop:"20px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"1px solid black"},children:[Object(o.jsx)(m.a.Header,{children:Object(o.jsx)(p.a,{children:Object(o.jsx)(g.a,{lg:4,style:{textAlign:"left"},className:"text-primary",children:Object(o.jsx)("input",{type:"text",className:"form-control",value:S,onChange:function(e){C(e.target.value)},onBlur:function(e){console.log("QUI CAMBIO IL NOME ATTUATORRE"),n({nome_attuatore:t.nome_attuatore,nuovonome:S})}})})})}),Object(o.jsx)(m.a.Body,{children:Object(o.jsx)(r.a,{fluid:!0,children:Object(o.jsxs)(p.a,{children:["campanello_porta"===x?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Citofono interno"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("input",{onChange:J,className:"form-control",style:{width:"90%"},min:"0",max:"9",type:"number",name:"PuntoLuce",step:"1",value:k})})]})}),Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{})}),Object(o.jsx)(g.a,{lg:8})]})})]}):"serrature"===x?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Posto Esterno"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("input",{onChange:U,className:"form-control",style:{width:"90%"},min:"0",max:"9",type:"number",name:"Ambiente",step:"1",value:z})})]})}),Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{})}),Object(o.jsx)(g.a,{lg:8})]})})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Ambiente"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("input",{onChange:U,className:"form-control",style:{width:"90%"},min:"0",max:"9",type:"number",name:"Ambiente",step:"1",value:z})})]})}),Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Puno Luce"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("input",{onChange:J,className:"form-control",style:{width:"90%"},min:"0",max:"9",type:"number",name:"PuntoLuce",step:"1",value:k})})]})})]}),Object(o.jsx)(g.a,{lg:y?3:6,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Tipo Attuatore"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsxs)("select",{id:"cars",name:"cars",value:x,onChange:function(e){u(e.target.value),"serrande_tapparelle"===e.target.value?N(!0):N(!1),s({nome_attuatore:t.nome_attuatore,tipo_attuatore:e.target.value})},children:[">",Object(o.jsx)("option",{value:"on_off",children:"ON/OFF"}),Object(o.jsx)("option",{value:"dimmer",children:"Dimmer"}),Object(o.jsx)("option",{value:"serrande_tapparelle",children:"Serrande/Tapparelle"}),Object(o.jsx)("option",{value:"gruppi",children:"Gruppi"}),Object(o.jsx)("option",{value:"sensori_temperatura",children:"Sensori Temperatura"}),Object(o.jsx)("option",{value:"termostati",children:"Termostati"}),Object(o.jsx)("option",{value:"serrature",children:"Serrature"}),Object(o.jsx)("option",{value:"campanello_porta",children:"Campanello porta"})]})})]})}),y?Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(g.a,{lg:3,children:[Object(o.jsx)(g.a,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{children:Object(o.jsx)("i",{children:"Timer Salita [mS]"})}),Object(o.jsx)(g.a,{lg:12,children:Object(o.jsx)("input",{className:"form-control",onChange:V,min:"1000",type:"number",name:"SetTemp",step:"1",value:M})})]})}),Object(o.jsx)(g.a,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{children:Object(o.jsx)("i",{children:"Timer Discesa [mS]"})}),Object(o.jsx)(g.a,{lg:12,children:Object(o.jsx)("input",{className:"form-control",onChange:Z,min:"1000",type:"number",name:"SetTemp",step:"1",value:B})})]})})]})}):null,Object(o.jsx)(g.a,{style:{alignSelf:"center"},children:Object(o.jsx)("div",{style:{textAlign:"center",alignItems:"right"},children:Object(o.jsx)(v.a,{style:{marginRight:"8px"},size:"md",variant:"outline-danger",onClick:function(){console.log("handleELIMINA"),d({nome_attuatore:t.nome_attuatore})},children:"ELIMINA"})})})]})})})]})})})};var K=function(e){var t=e.device,n=e.handle_CHANHE_NOME,c=e.handle_CHANHE_A,a=e.handle_CHANHE_PL,i=e.handle_TIPO,s=e.handle_TIMER_UP,r=e.handle_TIMER_DOWN,l=e.handle_ELIMINA;return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)(L,{device:t,handle_CHANHE_NOME:n,handle_CHANHE_A:c,handle_CHANHE_PL:a,handle_TIPO:i,handle_TIMER_UP:s,handle_TIMER_DOWN:r,handle_ELIMINA:l})})};var M=function(e){var t=e.handel_AGIUNGInew,n=Object(c.useState)(""),a=Object(O.a)(n,2),i=a[0],s=a[1],l=Object(c.useState)(0),j=Object(O.a)(l,2),d=j[0],b=j[1],h=Object(c.useState)(0),x=Object(O.a)(h,2),u=x[0],f=x[1],_=Object(c.useState)("on_off"),y=Object(O.a)(_,2),N=y[0],T=y[1],A=Object(c.useState)(!1),S=Object(O.a)(A,2),C=S[0],E=S[1],R=Object(c.useState)(8e3),z=Object(O.a)(R,2),w=z[0],F=z[1],I=Object(c.useState)(8e3),k=Object(O.a)(I,2),P=k[0],L=k[1],K=function(e){b(e.target.value)},M=function(e){f(e.target.value)},H=function(e){F(e.target.value)},G=function(e){L(e.target.value)};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(r.a,{style:{paddingTop:"2rem"},children:[Object(o.jsx)("hr",{}),Object(o.jsx)("div",{children:Object(o.jsx)("h3",{children:"Aggiungi Attuatore"})})]}),Object(o.jsx)(r.a,{style:{paddingTop:"20px",marginBottom:"100px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"2px solid blue"},children:[Object(o.jsx)(m.a.Header,{className:"bg-secondary ",children:Object(o.jsx)(p.a,{children:Object(o.jsx)(g.a,{lg:4,style:{textAlign:"left"},className:"text-primary",children:Object(o.jsx)("input",{type:"text",className:"form-control",value:i,placeholder:"Inserisci il nome dell'Attuatore",onChange:function(e){s(e.target.value)},onBlur:function(e){}})})})}),Object(o.jsx)(m.a.Body,{children:Object(o.jsx)(r.a,{fluid:!0,children:Object(o.jsxs)(p.a,{children:["campanello_porta"===N?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Citofono interno"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("input",{className:"form-control",style:{width:"90%"},type:"number",name:"SetTemp",min:"0",max:"9",step:"1",value:u,onChange:M})})]})}),Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{})}),Object(o.jsx)(g.a,{lg:8})]})})]}):"serrature"===N?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Posto Esterno"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("input",{className:"form-control",style:{width:"90%"},type:"number",name:"SetTemp",min:"0",max:"9",step:"1",value:d,onChange:K})})]})}),Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{})}),Object(o.jsx)(g.a,{lg:8})]})})]}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Ambiente"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("input",{className:"form-control",style:{width:"90%"},type:"number",name:"SetTemp",min:"0",max:"9",step:"1",value:d,onChange:K})})]})}),Object(o.jsx)(g.a,{lg:2,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Puno Luce"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("input",{className:"form-control",style:{width:"90%"},type:"number",name:"SetTemp",min:"0",max:"9",step:"1",value:u,onChange:M})})]})})]}),Object(o.jsx)(g.a,{lg:C?3:6,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:8,children:Object(o.jsx)("i",{children:"Tipo Attuatore"})}),Object(o.jsx)(g.a,{lg:8,children:Object(o.jsxs)("select",{name:"tipiattuatori",value:N,onChange:function(e){T(e.target.value),"serrande_tapparelle"===e.target.value?E(!0):E(!1)},children:[Object(o.jsx)("option",{value:"on_off",children:"ON/OFF"}),Object(o.jsx)("option",{value:"dimmer",children:"Dimmer"}),Object(o.jsx)("option",{value:"serrande_tapparelle",children:"Serrande/Tapparelle"}),Object(o.jsx)("option",{value:"gruppi",children:"Gruppi"}),Object(o.jsx)("option",{value:"sensori_temperatura",children:"Sensori Temperatura"}),Object(o.jsx)("option",{value:"termostati",children:"Termostati"}),Object(o.jsx)("option",{value:"serrature",children:"Serrature"}),Object(o.jsx)("option",{value:"campanello_porta",children:"Campanello porta"})]})})]})}),C?Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(g.a,{lg:3,children:[Object(o.jsx)(g.a,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{children:Object(o.jsx)("i",{children:"Timer Salita [mS]"})}),Object(o.jsx)(g.a,{lg:12,children:Object(o.jsx)("input",{className:"form-control",onChange:H,min:"1000",type:"number",name:"SetTemp",step:"1",value:w})})]})}),Object(o.jsx)(g.a,{children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{children:Object(o.jsx)("i",{children:"Timer Discesa [mS]"})}),Object(o.jsx)(g.a,{lg:12,children:Object(o.jsx)("input",{className:"form-control",onChange:G,min:"1000",type:"number",name:"SetTemp",step:"1",value:P})})]})})]})}):null,Object(o.jsx)(g.a,{style:{alignSelf:"center"},children:Object(o.jsx)("div",{style:{textAlign:"center",alignItems:"right"},children:Object(o.jsx)(v.a,{style:{marginRight:"8px"},size:"md",className:"btn-primary",onClick:function(e){t("serrande_tapparelle"===N?{nome_attuatore:i,indirizzo_Ambiente:d,indirizzo_PL:u,tipo_attuatore:N,timer_salita:w,timer_discesa:P}:{nome_attuatore:i,indirizzo_Ambiente:d,indirizzo_PL:u,tipo_attuatore:N}),s("")},children:"AGGIUNGI"})})})]})})})]})})]})};var H=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(!1),s=Object(O.a)(i,2),r=s[0],l=s[1],j=function(){return l(!1)},d=function(){return l(!0)},h=Object(c.useState)(""),m=Object(O.a)(h,2),p=m[0],g=m[1];Object(c.useEffect)((function(){a([]),function(){var e=Object(u.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/GetConfigurazionereact.json").then((function(e){return e.json()})).then((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[]);var f=function(e,t){var n=JSON.stringify(t);fetch("/"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:n}).then((function(e){return e.json()})).then((function(e){console.log("OKKKKKKKKKKKKKKKKK"),console.log(e)}))},_=function(e){var t={nome_attuatore:e.nome_attuatore,nuovo_nome:e.nuovonome};f("AGGIORNA_NOME_ATTUATORE.json",t),n.find((function(t){return t.nome_attuatore===e.nome_attuatore})).nome_attuatore=e.nuovonome},y=function(e){var t={nome_attuatore:e.nome_attuatore,indirizzo_Ambiente:e.indirizzo_Ambiente};f("AGGIORNA_INDIRIZZO_A.json",t),n.find((function(t){return t.nome_attuatore===e.nome_attuatore})).indirizzo_Ambiente=e.indirizzo_Ambiente},N=function(e){var t={nome_attuatore:e.nome_attuatore,indirizzo_PL:e.indirizzo_PL};f("AGGIORNA_INDIRIZZO_PL.json",t),n.find((function(t){return t.nome_attuatore===e.nome_attuatore})).indirizzo_PL=e.indirizzo_PL},T=function(e){var t={nome_attuatore:e.nome_attuatore,tipo_attuatore:e.tipo_attuatore};f("AGGIORNA_TIPO_ATTUATORE.json",t),n.find((function(t){return t.nome_attuatore===e.nome_attuatore})).tipo_attuatore=e.tipo_attuatore},A=function(e){var t={nome_attuatore:e.nome_attuatore,timer_salita:e.timer_salita};f("AGGIORNA_TIMER_SERRANDETAPPARELLE.json",t),n.find((function(t){return t.nome_attuatore===e.nome_attuatore})).timer_salita=e.timer_salita},S=function(e){var t={nome_attuatore:e.nome_attuatore,timer_discesa:e.timer_discesa};f("AGGIORNA_TIMER_SERRANDETAPPARELLE.json",t),n.find((function(t){return t.nome_attuatore===e.nome_attuatore})).timer_discesa=e.timer_discesa},C=function(e){var t={nome_attuatore:e.nome_attuatore};f("RIMUOVI_ATTUATORE.json",t);var c=n.filter((function(t){return t.nome_attuatore!==e.nome_attuatore}));a(c)};return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{className:"container-fluid",children:[n.map((function(e,t){return Object(o.jsx)("div",{children:Object(o.jsx)(K,{device:e,handle_CHANHE_NOME:_,handle_CHANHE_A:y,handle_CHANHE_PL:N,handle_TIPO:T,handle_TIMER_UP:A,handle_TIMER_DOWN:S,handle_ELIMINA:C})},e.nome_attuatore)})),Object(o.jsx)(M,{handel_AGIUNGInew:function(e){""===e.nome_attuatore?(g("Il nome del nuovo Attuatore non pu\xf2 essere vuoto"),d()):"undefined"===typeof n.find((function(t){return t.nome_attuatore===e.nome_attuatore}))?(f("AGGIUNGI_ATTUATORE.json",e),a((function(t){return[].concat(Object(b.a)(t),[e])}))):(g("Esiste gi\xe0 il nome dell'attuatore nel database"),d())}}),Object(o.jsxs)(P.a,{show:r,onHide:j,backdrop:"static",keyboard:!1,children:[Object(o.jsx)(P.a.Header,{closeButton:!0,children:Object(o.jsx)(P.a.Title,{children:"Errore"})}),Object(o.jsx)(P.a.Body,{children:p}),Object(o.jsx)(P.a.Footer,{children:Object(o.jsx)(v.a,{variant:"secondary",onClick:j,children:"Ok"})})]})]})})},G=n(9);var W=function(){var e=Object(G.e)();return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(r.a,{className:"justify-content-md-center",style:{},children:[Object(o.jsxs)("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center",children:[Object(o.jsx)("h1",{className:"display-4",children:"SCS-bus Raspberry shield"}),Object(o.jsx)("p",{className:"lead",children:"Benvenuti nella pagina di configurazione dei dispositivi del Bus SCS e Test"})]}),Object(o.jsxs)("div",{className:"card-deck text-center",children:[Object(o.jsxs)("div",{className:"card mb-4 shadow-sm",children:[Object(o.jsx)("div",{className:"card-header",children:Object(o.jsx)("h4",{className:"my-0 font-weight-normal",children:"Configurazione"})}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("h1",{className:"card-title ",children:[" ",Object(o.jsx)("small",{className:"text-muted",children:" "})]}),Object(o.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[Object(o.jsx)("li",{children:"Attuatori on/off"}),Object(o.jsx)("li",{children:"Dimmer"}),Object(o.jsx)("li",{children:"Serrande/Tapparelle"}),Object(o.jsx)("li",{children:"Gruppi"}),Object(o.jsx)("li",{children:"Sensori Temperatura"}),Object(o.jsx)("li",{children:"Termostati"}),Object(o.jsx)("li",{children:"Serrature"}),Object(o.jsx)("li",{children:"Campanello porta"})]}),Object(o.jsx)("button",{type:"button",className:"btn btn-lg btn-block btn-primary",onClick:function(){e.push("configurazione.html")},children:"Entra"})]})]}),Object(o.jsxs)("div",{className:"card mb-4 shadow-sm",children:[Object(o.jsx)("div",{className:"card-header",children:Object(o.jsx)("h4",{className:"my-0 font-weight-normal",children:"Test"})}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsxs)("h1",{className:"card-title pricing-card-title",children:[" ",Object(o.jsx)("small",{className:"text-muted",children:" "})]}),Object(o.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[Object(o.jsx)("li",{children:"Attuatori on/off"}),Object(o.jsx)("li",{children:"Dimmer"}),Object(o.jsx)("li",{children:"Serrande/Tapparelle"}),Object(o.jsx)("li",{children:"Gruppi"}),Object(o.jsx)("li",{children:"Sensori Temperatura"}),Object(o.jsx)("li",{children:"Termostati"}),Object(o.jsx)("li",{children:"Serrature"}),Object(o.jsx)("li",{children:"Campanello porta"})]}),Object(o.jsx)("button",{type:"button",className:"btn btn-lg btn-block btn-primary idTest",onClick:function(){e.push("test.html")},children:"Entra"})]})]}),Object(o.jsxs)("div",{class:"card mb-4 box-shadow",children:[Object(o.jsx)("div",{class:"card-header",children:Object(o.jsx)("h4",{className:"my-0 font-weight-normal",children:"Node-RED"})}),Object(o.jsxs)("div",{class:"card-body d-flex flex-column",children:[Object(o.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[Object(o.jsx)("li",{children:"AWS IoTs"}),Object(o.jsx)("li",{children:"Alexa virtual-smart-home"})]}),Object(o.jsx)("button",{type:"button",class:"btn btn-lg btn-block btn-primary mt-auto",style:{marginBottom:"1em"},onClick:function(){e.push("noderedHome.html")},children:"Entra"})]})]})]})]})})},B=n(69),D=n(189);var U=function(){var e=Object(c.useState)(!0),t=Object(O.a)(e,2),n=(t[0],t[1]),a=Object(c.useState)(!1),i=Object(O.a)(a,2),s=i[0],l=i[1],j=Object(c.useState)(""),d=Object(O.a)(j,2),b=d[0],h=d[1],m=Object(c.useState)(""),p=Object(O.a)(m,2),g=p[0],f=p[1],_=Object(c.useRef)(null),y=Object(c.useState)(!1),N=Object(O.a)(y,2),T=N[0],A=N[1],S=Object(c.useState)(30),C=Object(O.a)(S,2),E=C[0],R=C[1],z=Object(c.useState)(!1),w=Object(O.a)(z,2),F=(w[0],w[1]),I=Object(c.useState)(null),k=Object(O.a)(I,2),P=k[0],L=k[1],K=30;Object(c.useEffect)((function(){return 0===E&&clearTimeout(P),function(){}}),[E]);var M=function(){var e=setInterval((function(){return console.log("tick "+K),void(0===K?F(!0):(console.log(K),R(K-=1)))}),1e3);L(e),l(!0)},H=function(e){_.current.select(),document.execCommand("copy"),e.target.focus(),A(!0)};return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(r.a,{className:"justify-content-md-center",style:{},children:[Object(o.jsx)("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center",children:Object(o.jsx)("h1",{className:"display-4",children:"Node-Red configurazione con Alexa"})}),Object(o.jsx)("div",{className:"card-deck text-center",children:Object(o.jsxs)("div",{className:"card mb-4 shadow-sm",style:{border:"1px solid black"},children:[Object(o.jsx)("div",{className:"card-header",children:Object(o.jsx)("h4",{className:"my-0 font-weight-normal",children:"Configurazione Automatica"})}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("i",{style:{color:"red"},children:"Eseguire i seguenti passaggi descritti in seguito:"})}),Object(o.jsxs)("h1",{className:"card-title ",children:[" ",Object(o.jsx)("small",{className:"text-muted",children:" "})]}),Object(o.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[Object(o.jsxs)("li",{children:[Object(o.jsx)("p",{children:"Esporta auto-configurazione"}),Object(o.jsx)(v.a,{variant:"outline-primary",onClick:function(){n(!1);var e=window.location.host.split(":");h("http://"+e[0]+":1880"),function(){var e=Object(u.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/Send_to_NodeRed.json").then((function(e){return e.json()})).then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),M()},children:"1 - Esporta su Node-Red"})]}),Object(o.jsx)("li",{style:{marginTop:"20px"},children:!1===s?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{})}):0===E?Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("a",{href:b,target:"_blank",children:[b," "]})}):(console.log("countdown "+E),Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("p",{children:[" Wait NodeRed start: ",E," sec"]})}))})]})]})]})}),Object(o.jsx)("div",{className:"card-deck text-center",children:Object(o.jsxs)("div",{className:"card mb-4 shadow-sm",style:{border:"1px solid black"},children:[Object(o.jsx)("div",{className:"card-header",children:Object(o.jsx)("h4",{className:"my-0 font-weight-normal",children:"Configurazione Manuale"})}),Object(o.jsxs)("div",{className:"card-body",children:[Object(o.jsx)("div",{className:"container",children:Object(o.jsx)("i",{style:{color:"red"},children:"Eseguire i seguenti passaggi descritti in seguito:"})}),Object(o.jsxs)("h1",{className:"card-title ",children:[" ",Object(o.jsx)("small",{className:"text-muted",children:" "})]}),Object(o.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[Object(o.jsxs)("li",{children:[Object(o.jsx)("p",{children:"Genera NodeRed Flow"}),Object(o.jsx)(v.a,{variant:"outline-primary",onClick:function(){(function(){var e=Object(u.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/Get_NodeRed_manual_flow.json").then((function(e){return e.text()})).then((function(e){console.log(e),f(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},children:"Genera"})]}),Object(o.jsx)("li",{style:{marginTop:"20px"},children:""===g?Object(o.jsx)(o.Fragment,{}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(D.a.Control,{as:"textarea",rows:10,value:g,readonly:!0,ref:_}),Object(o.jsx)(v.a,{variant:"outline-primary",onClick:H,children:"Copy"})]})}),Object(o.jsx)("li",{style:{marginTop:"20px"},children:function(){var e="http://"+window.location.host.split(":")[0]+":1880";return!1===T?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{})}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("ul",{style:{listStyleType:"none"},children:[Object(o.jsx)("li",{children:"Apri node-red"}),Object(o.jsx)("li",{children:"Importa Flow"}),Object(o.jsx)("li",{children:"Incolla il contenuto generato"})]}),Object(o.jsxs)("a",{href:e,target:"_blank",children:[e," "]})]})}()})]})]})]})})]})})};var J=function(){return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)(r.a,{className:"justify-content-md-center",style:{},children:[Object(o.jsx)("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center",children:Object(o.jsx)("h1",{className:"display-4",children:"Node-Red configurazione con Alexa"})}),Object(o.jsx)("div",{className:"card-deck text-center",children:Object(o.jsxs)("div",{className:"card mb-4 shadow-sm",style:{border:"1px solid black"},children:[Object(o.jsx)("div",{className:"card-header",children:Object(o.jsx)("h4",{className:"my-0 font-weight-normal",children:"NodeRed AWS"})}),Object(o.jsx)("div",{children:Object(o.jsx)("p",{children:Object(o.jsx)("i",{children:Object(o.jsxs)("small",{children:["Configurare prima AWS Server: ",Object(o.jsx)("a",{href:"http://scsshields.altervista.org/AWS_Skill_Bticino.html",target:"_blank",children:"Guida"})]})})})}),Object(o.jsx)("div",{className:"card-body",children:Object(o.jsx)("ul",{className:"list-unstyled mt-3 mb-4",children:Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:"/NoderedAlexaAWS.html",children:Object(o.jsx)(v.a,{variant:"outline-primary",children:"Entra"})})})})})]})}),Object(o.jsx)("div",{className:"card-deck text-center",children:Object(o.jsxs)("div",{className:"card mb-4 shadow-sm",style:{border:"1px solid black"},children:[Object(o.jsx)("div",{className:"card-header",children:Object(o.jsx)("h4",{className:"my-0 font-weight-normal",children:'NodeRed "virtual-smart-home" library'})}),Object(o.jsx)("div",{className:"card-body",children:Object(o.jsx)("ul",{className:"list-unstyled mt-3 mb-4",children:Object(o.jsx)("li",{children:Object(o.jsx)("a",{href:"/noderedAlexa.html",children:Object(o.jsx)(v.a,{variant:"outline-primary",children:"Entra"})})})})})]})})]})})};var V=function(e){var t=e.device,n=Object(c.useState)(""),a=Object(O.a)(n,2),i=a[0],s=a[1];return Object(c.useEffect)((function(){s(t.nome_endpoint)}),[t]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{className:"text-primary text-center",children:t.nome_attuatore}),Object(o.jsx)(g.a,{lg:6,className:"text-center"}),Object(o.jsx)(g.a,{children:Object(o.jsx)("input",{type:"text",className:"form-control",value:i,placeholder:"Inserisci endpoint",onChange:function(e){s(e.target.value)},onBlur:function(e){!function(e){var t=JSON.stringify(e);fetch("/SetDeviceEndPointAWS.json",{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then((function(e){return e.json()})).then((function(e){console.log("OKKKKKKKKKKKKKKKKK"),console.log(e)}))}({nome_attuatore:t.nome_attuatore,nome_endpoint:e.target.value})}})})]}),Object(o.jsx)("hr",{})]})};var Z=function(){var e=Object(c.useState)(""),t=Object(O.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),s=Object(O.a)(i,2),l=s[0],j=s[1],d=Object(c.useState)(""),b=Object(O.a)(d,2),h=b[0],f=b[1],_=Object(c.useState)(""),y=Object(O.a)(_,2),N=y[0],T=y[1],A=Object(c.useState)([]),S=Object(O.a)(A,2),C=S[0],E=S[1],R=Object(c.useState)(""),z=Object(O.a)(R,2),w=z[0],F=z[1],I=Object(c.useRef)(null),k=Object(c.useState)(!1),P=Object(O.a)(k,2),L=P[0],K=P[1];Object(c.useEffect)((function(){E([]);var e=function(){var e=Object(u.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/GetConfigurazionereact.json").then((function(e){return e.json()})).then((function(e){E(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();M(),e()}),[]);var M=function(){var e=Object(u.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/GetConfigurazionereactAWS.json").then((function(e){return e.json()})).then((function(e){a(e.EndPoint),j(e.PRIVATE_KEY),f(e.CERT_PEM),T(e.CRT)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=Object(c.useState)(),G=Object(O.a)(H,2),W=G[0],B=G[1],U=function(e){B(e.target.files[0])},J=function(e){var t=new FormData;t.append("File",W),fetch("/AWSCertificatiploadHandler.html?tipo="+e,{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),M()})).catch((function(e){console.error("Error:",e)}))},Z=function(e){I.current.select(),document.execCommand("copy"),e.target.focus(),K(!0)};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center",children:Object(o.jsx)("h1",{className:"display-5",children:"Configurazione AWS-IoT"})}),Object(o.jsx)(r.a,{style:{paddingTop:"20px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"1px solid black"},children:[Object(o.jsx)(m.a.Header,{children:"EndPoint"}),Object(o.jsx)(m.a.Body,{children:Object(o.jsx)(r.a,{fluid:!0,children:Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:3,className:"text-primary text-center"}),Object(o.jsx)(g.a,{lg:6,className:"text-primary text-center",children:Object(o.jsx)("input",{type:"text",className:"form-control",value:n,placeholder:"Inserire indirizzo EndPoint AWS IoT",onChange:function(e){a(e.target.value)},onBlur:function(e){!function(e){var t=JSON.stringify(e);fetch("/GetConfigurazionereactAWS.json",{method:"POST",headers:{"Content-Type":"application/json"},body:t}).then((function(e){return e.json()})).then((function(e){console.log("OKKKKKKKKKKKKKKKKK"),console.log(e)}))}({EndPoint:e.target.value})}})})]})})})]})}),Object(o.jsx)(r.a,{style:{paddingTop:"20px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"1px solid black"},children:[Object(o.jsx)(m.a.Header,{children:"Certificati AWS-IoT"}),Object(o.jsx)(m.a.Body,{children:Object(o.jsxs)(r.a,{fluid:!0,children:[Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:3,className:"text-primary text-center",children:"PRIVATE_KEY"}),Object(o.jsxs)(g.a,{lg:3,className:"text-center",children:['"',l,'"']}),Object(o.jsx)(g.a,{lg:3,className:"text-center",children:Object(o.jsx)("input",{type:"file",name:"file",accept:".pem.key",onChange:U})}),Object(o.jsx)(g.a,{className:"text-center",children:Object(o.jsx)("button",{onClick:function(){return J("PRIVATE_KEY")},children:"Submit"})})]}),Object(o.jsx)("hr",{}),Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:3,className:"text-primary text-center",children:"CERT_PEM"}),Object(o.jsxs)(g.a,{lg:3,className:"text-center",children:['"',h,'"']}),Object(o.jsx)(g.a,{lg:3,className:"text-center",children:Object(o.jsx)("input",{type:"file",name:"file",accept:".pem.crt",onChange:U})}),Object(o.jsx)(g.a,{className:"text-center",children:Object(o.jsx)("button",{onClick:function(){return J("CERT_PEM")},children:"Submit"})})]}),Object(o.jsx)("hr",{}),Object(o.jsxs)(p.a,{children:[Object(o.jsx)(g.a,{lg:3,className:"text-primary text-center",children:"root-CA"}),Object(o.jsxs)(g.a,{lg:3,className:"text-center",children:['"',N,'"']}),Object(o.jsx)(g.a,{lg:3,className:"text-center",children:Object(o.jsx)("input",{type:"file",name:"file",accept:".pem,.txt",onChange:U})}),Object(o.jsx)(g.a,{className:"text-center",children:Object(o.jsx)("button",{onClick:function(){return J("root-CA")},children:"Submit"})})]})]})})]})}),Object(o.jsx)(r.a,{style:{paddingTop:"20px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"1px solid black"},children:[Object(o.jsx)(m.a.Header,{children:"Assegnazione endpoint AWS lambda ai Dispositivi"}),Object(o.jsx)(m.a.Body,{children:Object(o.jsx)(r.a,{fluid:!0,children:C.map((function(e,t){return Object(o.jsx)("div",{className:"container-fluid",children:Object(o.jsx)(V,{device:e})},t)}))})})]})}),Object(o.jsx)(r.a,{style:{paddingTop:"20px",paddingBottom:"40px"},children:Object(o.jsxs)(m.a,{style:{width:"100%",border:"1px solid black"},children:[Object(o.jsx)(m.a.Header,{children:"Genera Flow NodeRed"}),Object(o.jsx)(m.a.Body,{children:Object(o.jsx)(r.a,{fluid:!0,className:"text-center",children:Object(o.jsxs)("ul",{className:"list-unstyled mt-3 mb-4",children:[Object(o.jsxs)("li",{children:[Object(o.jsx)("p",{children:"Genera NodeRed Flow"}),Object(o.jsx)(v.a,{variant:"outline-primary",onClick:function(){(function(){var e=Object(u.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/Get_NodeRedAWS_manual_flow.json").then((function(e){return e.text()})).then((function(e){F(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()},children:"Genera"})]}),Object(o.jsx)("li",{style:{marginTop:"20px"},children:""===w?Object(o.jsx)(o.Fragment,{}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(D.a.Control,{as:"textarea",rows:10,value:w,readonly:!0,ref:I}),Object(o.jsx)(v.a,{variant:"outline-primary",onClick:Z,children:"Copy"})]})}),Object(o.jsx)("li",{style:{marginTop:"20px"},children:function(){var e="http://"+window.location.host.split(":")[0]+":1880";return!1===L?Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("p",{})}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("ul",{style:{listStyleType:"none"},children:[Object(o.jsx)("li",{children:"Apri node-red"}),Object(o.jsx)("li",{children:"Importa Flow"}),Object(o.jsx)("li",{children:"Incolla il contenuto generato"})]}),Object(o.jsxs)("a",{href:e,target:"_blank",children:[e," "]})]})}()})]})})})]})})]})};var q=function(){return Object(o.jsx)(B.a,{children:Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(d,{}),Object(o.jsx)(G.a,{exact:!0,path:"/",component:W}),Object(o.jsx)(G.a,{exact:!0,path:"/configurazione.html",component:H}),Object(o.jsx)(G.a,{exact:!0,path:"/test.html",component:k}),Object(o.jsx)(G.a,{exact:!0,path:"/noderedHome.html",component:J}),Object(o.jsx)(G.a,{exact:!0,path:"/noderedAlexa.html",component:U}),Object(o.jsx)(G.a,{exact:!0,path:"/NoderedAlexaAWS.html",component:Z})]})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,193)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};n(181),n(182);s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(q,{})}),document.getElementById("root")),Q()},8:function(e,t,n){}},[[183,1,2]]]);
//# sourceMappingURL=main.42da38db.chunk.js.map